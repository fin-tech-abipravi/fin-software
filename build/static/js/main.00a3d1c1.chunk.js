(this.webpackJsonpfin=this.webpackJsonpfin||[]).push([[0],{118:function(e,t,n){},127:function(e,t,n){},133:function(e,t,n){},134:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){},138:function(e,t,n){},139:function(e,t,n){},140:function(e,t,n){},142:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(14),o=n.n(r),s=(n(95),n(18)),l=n(15),u=n(22),i=n(21),d=(n(96),n(35)),m=n(17),p=(n(143),n(3)),h=n.n(p),j=n(6),f=n(10),x=(n(98),n(5)),b=n.n(x),O=n(1),g="getcostumer/",v=sessionStorage.getItem("access_token");function _(){var e,t=Object(a.useState)([{name:"",loanammount:"",loan_date:"",loanInterst:"",ms:"",place:"",ammount_Balance:"",place_id:""}]),n=Object(f.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)(""),s=Object(f.a)(o,2),l=s[0],u=s[1],i=Object(a.useState)(""),d=Object(f.a)(i,2),m=d[0],p=d[1],x=Object(a.useState)(""),_=Object(f.a)(x,2),w=_[0],y=_[1],I=Object(a.useState)(""),C=Object(f.a)(I,2),S=C[0],N=C[1],k=function(){var e=Object(j.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,e.next=3,b.a.get("".concat(g).concat(v,"/")).then((function(e){e.data.map((function(e){return t=parseInt(e.ammount_Balance)+parseInt(t)}))}));case 3:y(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){p(localStorage.getItem("aih")),b.a.get("".concat(g).concat(v,"/")).then((function(e){r(e.data)}),(function(e){alert("Please Start the Server {to start server ==> open Server.bat File}\ud83d\udcc2\ud83d\udcc2\ud83d\udd25\ud83d\udd25")})),k()}),[1]);var D=function(){var e=Object(j.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sessionStorage.setItem("getcollection",t);case 2:window.location.href="/costumercollection";case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=c.filter((function(e){return e.name.toLowerCase().includes(l.toLowerCase())})).map((function(t,n){return e=function(e){var t=new Date,n=new Date(Number(e));return n.setDate(e.getDate()+100),t>new Date(n)}(e=new Date(t.loan_date)),Object(O.jsxs)("div",{onClick:function(){return D(t.id)},className:"viewcostumers_tb_tb",children:[Object(O.jsx)("p",{className:!1===e?"normal":"late",children:t.name}),Object(O.jsxs)("h6",{children:["Place: \xa0",t.place]}),Object(O.jsxs)("h6",{children:["Loan Ammount: \xa0",t.loanammount]}),Object(O.jsxs)("h6",{children:["Balance:\xa0",t.ammount_Balance]}),Object(O.jsxs)("h6",{children:["Loan Date: \xa0",t.loan_date]})]},n)}));return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[Object(O.jsxs)("div",{className:"d-flex flex-column text-primary w-50",children:[Object(O.jsxs)("h3",{children:["Cash in Hand: ",m," \xa0\ud83d\udcb0\ud83d\udcb0"]}),Object(O.jsxs)("h3",{children:["Cash in Line: ",w," \ud83d\udcb0\ud83d\udcb0 "]})]}),Object(O.jsx)("input",{type:"text",id:"outlined-search",onChange:function(e){u(e.target.value)},className:"form-control w-25 h-25",placeholder:"Search Value"})]}),Object(O.jsx)("div",{className:"viewcostumers_table",children:Object(O.jsx)("div",{className:"viewcostumers_tb",children:A})}),Object(O.jsxs)("div",{className:"d-flex flex-row gap-3 p-3",children:[Object(O.jsx)("input",{type:"url",className:"form-control h-25",placeholder:"URL",onChange:function(e){return N(e.target.value)}}),Object(O.jsx)("button",{className:"btn btn-success h-25 w-25",onClick:function(){var e;b.a.get(S).then((function(t){t.data.map((function(t){return e={name:t.name,loanammount:t.loanammount,loan_date:t.loan_date,loanInterst:t.loanInterst,ms:t.ms,place:t.place,ammount_Balance:t.ammount_Balance,place_id:t.place_id},b.a.post("http://localhost:8000/createcostumer/".concat(v,"/"),e),"function exit"}))}))},children:"Upload Data from Json Server"})]})]})}n(118);var w=sessionStorage.getItem("access_token"),y="createcostumer/".concat(w,"/"),I=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).showToast=function(){!1===a.state.showAlert?a.setState({showAlert:!0}):a.setState({showAlert:!1})},a.setStateValue=function(){var e={name:a.state.name,loanammount:a.state.loanammount,loan_date:a.state.loan_date,loanInterst:a.state.loanInterst,ms:a.state.ms,place:a.state.place,ammount_Balance:a.state.ammount_Balance,place_id:a.state.place_id};a.savecostumerData(e)},a.savecostumerData=function(){var e=Object(j.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.a.post(y,t).then((function(e){a.setState({showAlert:!0})}),(function(e){console.log(e,"error")}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={name:"",loanammount:0,loan_date:null,loanInterst:0,ms:0,place:"",ammount_Balance:0,place_id:0,showAlert:!1},a}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(O.jsxs)("div",{className:"w-100 d-flex align-middle justify-content-center",children:[this.state.showAlert&&Object(O.jsxs)("div",{className:"h-auto top-0 end-0 rounded d-flex justify-content-center align-middle p-3 flex-row gap-4 position-fixed bg-warning",children:[Object(O.jsx)("p",{cliassName:"badge text-dark bg-warning p-3",children:"Costumer Added Successfully.."}),Object(O.jsx)("button",{onClick:this.showToast,className:"btn",children:"\u274c"})]}),Object(O.jsxs)("div",{className:"shadow-sm d-flex w-25 p-3 flex-column gap-2",children:[Object(O.jsx)("input",{type:"text",onChange:function(t){e.setState({name:t.target.value})},placeholder:"Costumer Name",className:"form-control",name:"name"}),Object(O.jsx)("input",{type:"number",onChange:function(t){e.setState({loanammount:t.target.value,ammount_Balance:t.target.value,loanInterst:t.target.value/10})},placeholder:"Loan Ammount",className:"form-control",name:"loanammount"}),Object(O.jsx)("input",{type:"number",onChange:function(t){e.setState({ammount_Balance:t.target.value})},value:this.state.ammount_Balance,placeholder:"Ammount Balance",className:"form-control",name:"ammount_Balance"}),Object(O.jsx)("input",{type:"date",className:"form-control",onChange:function(t){e.setState({loan_date:t.target.value})}}),Object(O.jsx)("input",{type:"text",onChange:function(t){e.setState({loanInterst:t.target.value})},value:this.state.loanInterst,placeholder:"Loan Intrest",className:"form-control",name:"loanInterst"}),Object(O.jsx)("input",{type:"text",onChange:function(t){e.setState({ms:t.target.value})},placeholder:"Loan MS",className:"form-control",name:"ms"}),Object(O.jsx)("input",{type:"text",onChange:function(t){e.setState({place:t.target.value})},placeholder:"Place",className:"form-control",name:"place"}),Object(O.jsx)("input",{type:"text",onChange:function(t){e.setState({place_id:t.target.value})},className:"form-control",placeholder:"Place Id",name:"place_id"}),Object(O.jsx)("button",{className:"btn btn-primary",onClick:this.setStateValue,children:"Save Costumer Data"}),Object(O.jsx)(d.b,{className:"btn btn-primary",to:"/updateCostumer",children:"Update Costumers"})]})]})}}]),n}(c.a.Component),C=n(19),S=n(26),N=n(179),k=n(178),D=n(81),A=n.n(D),E=n(82),L=n.n(E),B=n(182),T=n(180),R=n(181),F=(n(127),n(80)),P=sessionStorage.getItem("access_token");function U(e){return Object(O.jsx)(T.a,Object(S.a)({elevation:6,variant:"filled"},e))}function M(){var e=Object(a.useState)({name:"",loanammount:"",loan_date:"",loanInterst:"",ms:"",place:"",place_id:""}),t=Object(f.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)([{name:"",loanammount:"",loan_date:"",loanInterst:"",ms:"",place:"",place_id:""}]),s=Object(f.a)(o,2),l=s[0],u=s[1],i=Object(a.useState)(""),d=Object(f.a)(i,2),m=d[0],p=d[1],x=Object(a.useState)(null),g=Object(f.a)(x,2),v=g[0],_=g[1],w=c.a.useState(!1),y=Object(f.a)(w,2),I=y[0],D=y[1],E=c.a.useState(!1),T=Object(f.a)(E,2),M=T[0],H=T[1],V=function(){r({name:"",loanammount:"",ammount_Balance:"",loan_date:"",loanInterst:"",ms:"",place:"",place_id:""}),p("")},K=function(){var e=Object(j.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n="".concat("updatecostumer","/").concat(v,"/"),b.a.post(n,t).then((function(e){_(null),G(),H(!1),V()}),(function(e){console.log(e,"error")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e="".concat("getcostumer/").concat(P,"/");b.a.get(e).then((function(e){u(e.data)}),(function(e){alert("Error Loading Data")})),console.log(l)},J=function(e){r(Object(S.a)(Object(S.a)({},n),{},Object(C.a)({},e.target.name,e.target.value)))},Y=function(){var e=Object(j.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat("deletecostumer","/").concat(t.id,"/").concat(P,"/"),e.next=3,b.a.delete(n).then((function(e){D(!0),G(),V()}),(function(e){console.log(e,"error")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){G()}),[]);var z=function(){D(!1)},Q={data:l.map((function(e){return[e.name,e.ammount_Balance,e.loan_date]})),headers:["name","balance","date","1","2"],filename:"".concat((new Date).toDateString(),"_finDataabipravi.csv")},$=l.filter((function(e){return e.name.includes(m)})).map((function(e,t){return Object(O.jsxs)("tr",{className:"",children:[Object(O.jsx)("td",{children:e.name}),Object(O.jsx)("td",{children:e.place}),Object(O.jsx)("td",{children:e.loanammount}),Object(O.jsx)("td",{children:e.ammount_Balance}),Object(O.jsx)("td",{children:e.loan_date}),Object(O.jsx)("td",{children:e.loanInterst}),Object(O.jsx)("td",{style:{padding:"12"},children:e.ms}),Object(O.jsx)("td",{children:Object(O.jsx)("button",{onClick:function(){return function(e){var t=e.id,n=e.name,a=e.loanammount,c=e.ammount_Balance,o=e.loan_date,s=e.loanInterst,l=e.ms,u=e.place,i=e.place_id;_(t),r({name:n,loanammount:a,ammount_Balance:c,loan_date:o,loanInterst:s,ms:l,place:u,place_id:i}),H(!0)}(e)},className:"btn btn-outline-dark",children:Object(O.jsx)(A.a,{})})}),Object(O.jsx)("td",{children:Object(O.jsx)("button",{onClick:function(){return Y(e)},className:"btn btn-outline-dark",children:Object(O.jsx)(L.a,{})})})]},t)}));return Object(O.jsxs)("div",{className:"",children:[Object(O.jsx)(R.a,{open:M,onClose:z,style:{color:"black",height:"70%",display:"flex",alignItems:"center",justifyContent:"center","margin-top":70},children:Object(O.jsxs)("div",{className:"d-flex flex-column gap-3 bg-white p-4 rounded-3",children:[Object(O.jsx)("h4",{children:"Update Costumer"}),Object(O.jsx)("input",{type:"text",onChange:J,value:n.name,placeholder:"Costumer Name",className:"form-control",name:"name"}),Object(O.jsx)("input",{type:"text",onChange:J,value:n.loanammount,placeholder:"Loan Ammount",className:"form-control",name:"loanammount"}),Object(O.jsx)("input",{type:"text",onChange:J,value:n.ammount_Balance,placeholder:"Ammount Balance",className:"form-control",name:"ammount_Balance"}),Object(O.jsx)(N.a,{type:"date",name:"loan_date",InputLabelProps:{shrink:!0},defaultValue:n.loan_date,className:"form-control",onChange:J}),Object(O.jsx)("input",{type:"text",onChange:J,value:n.loanInterst,placeholder:"Loan Intrest",name:"loanIntrest",className:"form-control"}),Object(O.jsx)("input",{type:"text",onChange:J,value:n.ms,placeholder:"MS",name:"ms",className:"form-control"}),Object(O.jsx)("input",{type:"text",onChange:J,value:n.place,placeholder:"Place",name:"place",className:"form-control"}),Object(O.jsx)("input",{type:"text",onChange:J,value:n.place_id,placeholder:"Place Id",name:"place_id",className:"form-control"}),Object(O.jsx)(k.a,{variant:"outlined",style:{outline:"none"},color:"primary",onClick:function(e){e.preventDefault(),null!=v&&K(n)},children:"Update Costumer"})]})}),Object(O.jsxs)("div",{className:"d-flex flex-column gap-3 h-auto",children:[Object(O.jsxs)("div",{className:"d-flex flex-row gap-3",children:[Object(O.jsx)("input",{onChange:function(e){p(e.target.value)},className:"form-control w-25",placeholder:"Search Costumers",type:"search"}),Object(O.jsx)(F.CSVLink,Object(S.a)(Object(S.a)({},Q),{},{className:"btn btn-primary",children:"Download Costumer Data"}))]}),Object(O.jsx)("div",{className:"overflow-auto",style:{height:"70vh"},children:Object(O.jsxs)("table",{className:"table table-bordered table-hover table-striped border-dark",children:[Object(O.jsx)("thead",{className:"table-dark",children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Name"}),Object(O.jsx)("td",{children:"Place"}),Object(O.jsx)("td",{children:"Loan Ammount"}),Object(O.jsx)("td",{children:"Ammount Balance"}),Object(O.jsx)("td",{children:"Loan Date"}),Object(O.jsx)("td",{children:"Loan Intrest"}),Object(O.jsx)("td",{children:"MS"}),Object(O.jsx)("td",{children:"Edit"}),Object(O.jsx)("td",{children:"Delete"})]})}),Object(O.jsx)("tbody",{className:"",children:$})]})})]}),Object(O.jsx)(B.a,{open:I,autoHideDuration:6e3,children:Object(O.jsx)(U,{onClose:z,severity:"success",children:"Costumer Deleted Successfully"})})]})}n(133);var H=sessionStorage.getItem("access_token"),V="getcollection/".concat(H,"/"),K="getcostumer/".concat(H,"/"),G=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).CalculateDL=Object(j.a)(h.a.mark((function e(){var t,n,c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.date1,c=0,e.next=4,b.a.get(V).then((function(e){return n=e.data}));case 4:return r=n.filter((function(e){return e.date.includes(t)})),e.next=7,r.map((function(e){return c=parseInt(e.ammount)+parseInt(c)}));case 7:return e.next=9,a.setState({dl:c});case 9:case"end":return e.stop()}}),e)}))),a.deleteCollection=function(){var e=Object(j.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.a.delete("".concat("deletecollection/").concat(t)),window.location.reload();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.updateDL=Object(j.a)(h.a.mark((function e(){var t,n,c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.date1,e.next=3,b.a.get("getdl/").then((function(e){return n=e.data.filter((function(e){return e.date.includes(t)}))}));case 3:return e.next=5,{date:t,ammount:a.state.dl};case 5:c=e.sent,console.log(n),0===n.length?b.a.post("".concat("createdl","/"),c):(n.map((function(e){return r=e.id})),b.a.post("".concat("updatedl","/").concat(r,"/"),c));case 8:case"end":return e.stop()}}),e)}))),a.changeDate=function(){var e=Object(j.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({date1:t.target.value});case 2:return n=new Date(a.state.date1),console.log(n),e.next=6,a.CalculateDL();case 6:return e.next=8,a.getCostumerdata();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.callfunction=Object(j.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a.state.date1),e.next=3,a.CalculateDL();case 3:return e.next=5,a.getCostumerdata();case 5:case"end":return e.stop()}}),e)}))),a.setsearchCostumer=function(e){a.setState({searchTerm:e.target.value})},a.editCollection=function(){var e=Object(j.a)(h.a.mark((function e(t,n){var c,r,o,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(K).then((function(e){c=e.data}));case 2:return e.next=4,c.map((function(e){e.id===n&&(o=e)}));case 4:return a.setState({updated_costumerRecords:{name:o.name,loanammount:o.loanammount,ammount_Balance:o.ammount_Balance,loan_date:o.loan_date,loanInterst:o.loanInterst,ms:o.ms,place:o.place,place_id:o.place_id},editCostumerID:o.id}),e.next=7,b.a.get(V).then((function(e){return r=e.data}));case 7:return e.next=9,r.map((function(e){e.id===t.id&&(s=e)}));case 9:return e.next=11,a.setState({editdate:s.date,editcostumer_name:s.costumer_name,editammount:s.ammount,editCollectionID:s.id,collectedAmmount:s.ammount,editCostumerID:t.costumer_id});case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.updateCollection=Object(j.a)(h.a.mark((function e(){var t,n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.updated_costumerRecords.ammount_Balance,a.state.editammount>a.state.collectedAmmount?(n=parseInt(a.state.editammount)-parseInt(a.state.collectedAmmount),t=parseInt(t)-parseInt(n)):(c=parseInt(a.state.collectedAmmount)-parseInt(a.state.editammount),t=parseInt(t)+parseInt(c)),t.toString(),e.next=5,a.setState({updatedCollectionrecords:Object(S.a)(Object(S.a)({},a.state.updatedCollectionrecords),{},{date:a.state.editdate,costumer_id:a.state.editCostumerID,costumer_name:a.state.editcostumer_name,ammount:a.state.editammount}),updated_costumerRecords1:{name:a.state.updated_costumerRecords.name,loanammount:a.state.updated_costumerRecords.loanammount,loan_date:a.state.updated_costumerRecords.loan_date,loanInterst:a.state.updated_costumerRecords.loanInterst,ms:a.state.updated_costumerRecords.ms,place:a.state.updated_costumerRecords.place,ammount_Balance:t.toString(),place_id:a.state.updated_costumerRecords.place_id}});case 5:return console.log(a.state.updated_costumerRecords1),e.next=8,b.a.post("".concat("updatecollection/").concat(a.state.editCollectionID),a.state.updatedCollectionrecords);case 8:return e.next=10,b.a.post("".concat("updatecostumer/").concat(a.state.editCostumerID,"/"),a.state.updated_costumerRecords1);case 10:a.getCostumerdata(),a.CalculateDL();case 12:case"end":return e.stop()}}),e)}))),a.editCollectionFunction=function(e){a.setState({editammount:e.target.value})},a.getCostumerdata=function(){var e=Object(j.a)(h.a.mark((function e(t){var n,c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.state.date1;case 2:return n=e.sent,e.next=5,b.a.get(V).then((function(e){c=e.data}));case 5:return e.next=7,c.filter((function(e){return e.date.includes(n)}));case 7:return r=e.sent,e.next=10,a.setState({collectionData:r});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.searchCostumerData=Object(j.a)(h.a.mark((function e(){var t,n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(V).then((function(e){return t=e.data}));case 2:n=t.filter((function(e){return e.costumer_name.toLowerCase().includes(a.state.searchTerm.toLowerCase())})),c=n.filter((function(e){return e.date.includes(a.state.date1)})),a.setState({collectionData:c});case 5:case"end":return e.stop()}}),e)}))),a.state={date1:"",dl:0,searchTerm:"",collectionData:[],updated_costumerRecords:{name:"Name",loanammount:"",ammount_Balance:"",loan_date:"",loanIntrest:"",ms:"",place:"",place_id:""},editCostumerID:"",editCollectionID:"",editdate:"",editcostumer_name:"",editammount:"Ammount",collectedAmmount:"",editcostumerid:"",updated_costumerRecords1:{name:"",loanammount:"",ammount_Balance:"",loan_date:"",loanIntrest:"",ms:"",place:"",place_id:""},updatedCollectionrecords:{date:"",costumer_id:"",costumer_name:"",ammount:""}},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.callfunction()}},{key:"render",value:function(){var e=this;return Object(O.jsxs)("div",{className:"collectionDetails__",children:[Object(O.jsxs)("div",{className:"d-flex flex-row gap-4 bg-light p-3 align-middle",children:[Object(O.jsxs)("div",{className:"d-flex flex-row gap-2",children:[Object(O.jsx)("h4",{children:"Date"}),Object(O.jsx)(N.a,{type:"date",onChange:this.changeDate,InputLabelProps:{shrink:!0},className:"h-25",value:this.state.date1})]}),Object(O.jsx)("div",{children:Object(O.jsxs)("h4",{children:["DL Ammount: ",this.state.dl]})}),Object(O.jsx)("input",{type:"text",id:"outlined-search",style:{marginLeft:"20px",outline:"none",flex:"0.9"},onChange:this.setsearchCostumer,placeholder:"Enter Costumer Name"}),Object(O.jsx)("button",{className:"btn btn-primary",style:{margin:7},onClick:this.searchCostumerData,children:"\ud83d\udd0d Search"})]}),Object(O.jsxs)("div",{className:"d-flex gap-3 p-10",children:[Object(O.jsx)("div",{className:"p-3 table-wrapper-scroll-y my-custom-scrollbar",children:Object(O.jsxs)("table",{className:"table table-bordered border-dark",children:[Object(O.jsx)("thead",{className:"thead-dark",children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Costumer Name"}),Object(O.jsx)("th",{children:"Ammount Collected"}),Object(O.jsx)("th",{children:"Edit"})]})}),Object(O.jsx)("tbody",{className:"collectionDetails__collectiontr",children:this.state.collectionData.map((function(t){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:t.costumer_name}),Object(O.jsx)("td",{children:t.ammount}),Object(O.jsx)("td",{children:Object(O.jsx)("button",{onClick:function(){return e.editCollection(t,t.costumer_id)},className:"btn btn-danger",children:"Edit"})})]},t.id)}))})]})}),Object(O.jsxs)("div",{className:"d-flex flex-column gap-2",children:[Object(O.jsx)(N.a,{style:{margin:7},value:this.state.updated_costumerRecords.name}),Object(O.jsx)(N.a,{style:{margin:7},value:this.state.editammount,onChange:this.editCollectionFunction}),Object(O.jsx)(k.a,{variant:"contained",color:"secondary",style:{margin:7},onClick:this.updateCollection,children:"Update Collections"}),Object(O.jsx)(k.a,{variant:"contained",color:"secondary",style:{margin:7},onClick:this.updateDL,children:"Update DL \u2714\u2714"}),Object(O.jsx)("a",{className:"btn btn-danger",href:"/costumercollection",children:"Get Costumer Records"})]})]})]})}}]),n}(c.a.Component),J=(n(134),sessionStorage.getItem("access_token")),Y="getcostumer/".concat(J,"/"),z="getcollection/".concat(J,"/"),Q="createcollection/".concat(J,"/");function $(){var e=Object(a.useState)(!0),t=Object(f.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),o=Object(f.a)(r,2),s=o[0],l=o[1],u=Object(a.useState)([{name:"",loanammount:"",loan_date:"",loanInterst:"",ms:"",place:"",ammount_Balance:"updated_balance",place_id:""}]),i=Object(f.a)(u,2),d=i[0],m=i[1],p=Object(a.useState)(""),x=Object(f.a)(p,2),g=x[0],v=x[1],_=Object(a.useState)(""),w=Object(f.a)(_,2),y=w[0],I=w[1],C=Object(a.useRef)([]),S=Object(a.useState)("0.00"),D=Object(f.a)(S,2),A=D[0],E=D[1],L=Object(a.useState)("0.00"),B=Object(f.a)(L,2),T=B[0],R=B[1],F=Object(a.useState)("0.00"),P=Object(f.a)(F,2),U=P[0],M=P[1],H=Object(a.useState)("Costumer name"),V=Object(f.a)(H,2),K=V[0],G=V[1],J=function(){var e=Object(j.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(t.target.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(e){l(e.target.value)},q=function(){var e=Object(j.a)(h.a.mark((function e(t,n,a){var c,r,o,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key){e.next=17;break}return c=parseInt(n.ammount_Balance)-parseInt(s),r={name:n.name,loanammount:n.loanammount,loan_date:n.loan_date,loanInterst:n.loanInterst,ms:n.ms,place:n.place,ammount_Balance:c,place_id:n.place_id},o={date:g,costumer_id:n.id,costumer_name:n.name,ammount:parseInt(s)},"",e.next=8,b.a.post(Q,o).then((function(e){b.a.post("".concat("updatecostumer/").concat(n.id,"/"),r).then((function(e){console.log("updated")}),(function(e){console.log("error put",a)}))}),(function(e){console.log(e,"error")}));case 8:return e.next=10,a;case 10:return e.t0=e.sent,l=e.t0+1,e.next=14,C.current[l];case 14:if(e.t1=e.sent,!e.t1){e.next=17;break}C.current[l].focus();case 17:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),W=function(){var e=Object(j.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.a.get(Y).then((function(e){m(e.data),c(!1)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(j.a)(h.a.mark((function e(){var t,n,a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Date,n=t.getMonth(),a=t.getDate(),n<10&&(n="0"+(n=parseInt(n)+1)),a<10&&(a="0"+(a=parseInt(a))),c=t.getFullYear()+"-"+n+"-"+a,e.next=8,v(c);case 8:localStorage.setItem("date",c);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(j.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(Y).then((function(e){return t=e.data}));case 2:return e.next=4,t.filter((function(e){return e.name.includes(y)}));case 4:n=e.sent,m(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){c(!0),W(),X()}),[]);var ee,te=function(){var e=Object(j.a)(h.a.mark((function e(t,n){var a,c,r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t.target.value);case 2:return e.next=4,t.target.select();case 4:return e.next=6,ne(n);case 6:return a=e.sent,c="".concat(a[1]," [").concat(a[0],"]"),e.next=10,E(c);case 10:return r="".concat(a[3]," [").concat(a[2],"]"),e.next=13,R(r);case 13:return o="".concat(a[5]," [").concat(a[4],"]"),e.next=16,M(o);case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function ne(e){return ae.apply(this,arguments)}function ae(){return(ae=Object(j.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],a=[],e.next=4,b.a.get("".concat(z)).then((function(e){n.push(e.data.filter((function(e){return e.costumer_id.toString()===t.toString()})))}));case 4:return e.next=6,n.map((function(e){void 0!==e[e.length-1]?(a.push(e[e.length-1].ammount),a.push(e[e.length-1].date)):(a[0]="0.00",a[1]="00/00/000")}));case 6:return e.next=8,n.map((function(e){void 0!==e[e.length-2]?(a.push(e[e.length-2].ammount),a.push(e[e.length-2].date)):(a[2]="0.00",a[3]="00/00/000")}));case 8:return e.next=10,n.map((function(e){void 0!==e[e.length-3]?(a.push(e[e.length-3].ammount),a.push(e[e.length-3].date),a.push(e[e.length-3].costumer_name),G(a[6])):(a[4]="0.00",a[5]="0.00")}));case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(O.jsxs)("div",{className:"addCollection_",children:[Object(O.jsxs)("div",{className:"addCollection__dateInput",children:[Object(O.jsx)("p",{children:"Date"}),Object(O.jsx)(N.a,{type:"date",name:"collection date",onChange:J,InputLabelProps:{shrink:!0},value:g}),Object(O.jsx)("input",{type:"text",id:"outlined-search",style:{marginLeft:"20px",outline:"none",flex:"0.9"},onChange:function(e){return I(e.target.value)},placeholder:"Enter Costumer Name",className:"collectionDetails__input"}),Object(O.jsx)(k.a,{variant:"contained",color:"secondary",onClick:Z,children:"\ud83d\udd0d Search"})]}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{style:{width:"auto",display:"flex"},children:[Object(O.jsx)("br",{}),Object(O.jsx)("p",{className:"ammounts",children:K})," ",Object(O.jsxs)("p",{className:"ammounts",children:[" ",A," "]}),Object(O.jsx)("p",{className:"ammounts",children:T}),Object(O.jsx)("p",{className:"ammounts",children:U})]}),Object(O.jsxs)("div",{className:"addCollection__collectionTableBody",children:[Object(O.jsx)("p",{children:"Name"}),Object(O.jsx)("p",{children:"Place"}),Object(O.jsx)("p",{children:"Loan Ammount"}),Object(O.jsx)("p",{children:"Balance"}),Object(O.jsx)("p",{}),Object(O.jsx)("p",{}),Object(O.jsx)("p",{}),Object(O.jsx)("p",{})]}),Object(O.jsx)("div",{className:"addCollection__collectionTable",children:!1===n?d.sort((function(e,t){return e.place_id<t.place_id?-1:e.place_id>t.place_id?1:0})).map((function(e,t){return ee=function(e){var t=new Date,n=new Date(Number(e));return n.setDate(e.getDate()+100),t>new Date(n)}(ee=new Date(e.loan_date)),Object(O.jsxs)("div",{className:"addCollection__collectionTableBody",children:[Object(O.jsx)("p",{className:!1===ee?"normal":"late",children:e.name}),Object(O.jsx)("p",{children:e.place}),Object(O.jsx)("p",{children:e.loanammount}),Object(O.jsx)("p",{children:e.ammount_Balance}),Object(O.jsx)(N.a,{label:"Ammount",inputProps:{onKeyPress:function(n){return q(n,e,t)}},onChange:$,inputRef:function(e){return C.current[t]=e},onFocus:function(t){return te(t,e.id)},color:"secondary",style:{margin:"10px"},defaultValue:e.loanammount/100})]},t)})):Object(O.jsx)("p",{className:"loadingstate",children:"Loading Data...."})})]})]})}n(135),n(136);function q(){var e=Object(a.useState)(""),t=Object(f.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),o=Object(f.a)(r,2),s=o[0],l=o[1],u=Object(a.useState)(!0),i=Object(f.a)(u,2),d=i[0],m=i[1],p=Object(a.useState)(""),x=Object(f.a)(p,2),g=x[0],v=x[1],_=function(){var e=Object(j.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""===n||""===s||""===g){e.next=12;break}return a={username:n,password:s,email_address:g},e.next=5,b.a.post("auth/createuser",a).then((function(e){return alert("User Created Successfully login with the user again to verify")}),(function(e){return console.log(e,"error occured")}));case 5:return e.next=7,sessionStorage.removeItem("login");case 7:return e.next=9,sessionStorage.removeItem("access_token");case 9:window.location.reload(),e.next=13;break;case 12:alert("Empty user cannot be created ");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("form",{onSubmit:_,className:"d-flex flex-column  gap-3 mb-1 w-75 align-middle",children:[Object(O.jsx)("h4",{children:"Create New User"}),Object(O.jsx)("input",{type:"text",onChange:function(e){return c(e.target.value)},placeholder:"User Name",className:"form-control"}),Object(O.jsx)("input",{type:"email",onChange:function(e){return v(e.target.value)},placeholder:"User Email Id",className:"form-control"}),Object(O.jsxs)("div",{className:"d-flex gap-1 align-middle form-control justify-content-center",children:[Object(O.jsx)("input",{type:d?"password":"text",onChange:function(e){return l(e.target.value)},placeholder:"User Login Password",className:"password-input"}),d?Object(O.jsx)("h5",{onClick:function(){m(!d)},className:"bi bi-eye-fill"}):Object(O.jsx)("h5",{onClick:function(){m(!d)},className:"bi bi-eye-slash-fill"})]}),Object(O.jsx)("input",{value:"Save User",className:"btn btn-outline-primary",type:"submit"})]})}var W=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).setCompany=function(){localStorage.setItem("company",a.state.company),window.location.reload()},a.state={company:""},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("company");this.setState({company:e})}},{key:"render",value:function(){var e=this;return Object(O.jsxs)("div",{className:"d-flex flex-row justify-content-evenly",children:[Object(O.jsxs)("div",{className:"d-flex flex-column gap-3",children:[Object(O.jsxs)("div",{class:"d-flex flex-row gap-3",children:[Object(O.jsx)("input",{type:"text",onChange:function(t){return e.setState({company:t.target.value})},className:"form-control w-60",placeholder:"Enter Company Name"}),Object(O.jsx)("button",{onClick:this.setCompany,className:"btn btn-primary w-20",children:"Save Company"})]}),Object(O.jsxs)("h5",{children:["Company Name: ",this.state.company]}),Object(O.jsx)("h5",{children:"Software Version: 2.3.0"}),Object(O.jsx)("br",{})]}),Object(O.jsx)("div",{style:{padding:20},className:"w-50 d-flex justify-content-center shadow-sm",children:Object(O.jsx)(q,{})})]})}}]),n}(a.Component),X=(n(137),n(138),sessionStorage.getItem("access_token")),Z="getcostumer/".concat(X,"/"),ee="createoai",te="createoao",ne=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).loadData=Object(j.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.get_Loan_Total(),a.get_Loan_Intrest(),a.get_Loan_MS();case 3:case"end":return e.stop()}}),e)}))),a.get_Loan_Total=Object(j.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.next=3,b.a.get(Z).then((function(e){t=e.data.filter((function(e){return e.loan_date.includes(a.props.date)}))}));case 3:return e.next=5,t.map((function(e){return n=parseInt(n)+parseInt(e.loanammount)}));case 5:return e.next=7,a.setState({loanTotal:n});case 7:localStorage.setItem("loan",n);case 8:case"end":return e.stop()}}),e)}))),a.get_Loan_Intrest=Object(j.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.next=3,b.a.get(Z).then((function(e){t=e.data.filter((function(e){return e.loan_date.includes(a.props.date)}))}));case 3:return e.next=5,t.map((function(e){return n=parseInt(n)+parseInt(e.loanInterst)}));case 5:return e.next=7,a.setState({loanIntrestTotal:n});case 7:localStorage.setItem("interst",n);case 8:case"end":return e.stop()}}),e)}))),a.changeOption=function(){var e=Object(j.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({entryName:t.target.value});case 2:a.setNameField();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.changeOption1=function(){var e=Object(j.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({entryName1:t.target.value});case 2:a.setNameField1();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.get_Loan_MS=Object(j.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.next=3,b.a.get(Z).then((function(e){t=e.data.filter((function(e){return e.loan_date.includes(a.props.date)}))}));case 3:return e.next=5,t.map((function(e){return n=parseInt(n)+parseInt(e.ms)}));case 5:return e.next=7,a.setState({MStotal:n});case 7:localStorage.setItem("ms",n);case 8:case"end":return e.stop()}}),e)}))),a.postEntryin=Object(j.a)(h.a.mark((function e(){var t,n,c,r,o,s,l,u,i,d;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.props.date,n=a.state,c=n.entryName,r=n.entryAmmount,o=n.lineup,"Costumer Excess"===c?(s={date:t,costumername:o,ammount:r},b.a.post("createcloseup",s)):"Ammount Excess"===c?(l={date:t,reason:c,ammount:r},b.a.post("".concat(ee),l)):"Add Cash"===c?(u={date:t,reason:"Add Ammount",ammount:r},b.a.post("".concat(ee),u)):"Others"===c?(i={date:t,reason:o,ammount:r},b.a.post("".concat(ee),i)):"Inversment"===c&&(d={date:t,name:o,ammount:r},b.a.post("".concat("createinversment"),d)),a.setState({loneCloseCostumername:"",entryAmmount:"",reason:""}),window.location.reload();case 5:case"end":return e.stop()}}),e)}))),a.postEntryout=Object(j.a)(h.a.mark((function e(){var t,n,c,r,o,s,l,u,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.props.date,n=a.state,c=n.entryName1,r=n.entryAmmount,o=n.linedown,"Costumer less ammount"===c?(s={date:t,costumername:o,ammount:r},b.a.post("createclosedown",s)):"Ammount Less"===c?(l={date:t,reason:c,ammount:r},b.a.post("".concat(te),l)):"Profit takeout / Salary"===c?(u={date:t,reason:o,ammount:r},b.a.post("".concat("createothers"),u)):"Others"===c&&(i={date:t,reason:o,ammount:r},b.a.post("".concat(te),i)),a.setState({linedown:"",entryAmmount:"",reason:""}),window.location.reload();case 5:case"end":return e.stop()}}),e)}))),a.setNameField=Object(j.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({showField:!0});case 1:case"end":return e.stop()}}),e)}))),a.setNameField1=Object(j.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({showField1:!0});case 1:case"end":return e.stop()}}),e)}))),a.state={loanTotal:0,loanIntrestTotal:0,MStotal:0,entryName:"",entryName1:"",entryAmmount:"",showField:!1,showField1:!1,closeCostumerName:[],lineup:"",linedown:""},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this;return Object(O.jsx)("div",{className:"plan__",children:Object(O.jsxs)("div",{className:"plan__leftarea",children:[Object(O.jsx)("button",{onClick:this.loadData,className:"plan__button",children:"Reload Data"}),Object(O.jsxs)("div",{className:"plan__area",children:[Object(O.jsxs)("div",{className:"plan__area__items",children:["Total Loan: ",Object(O.jsx)("h5",{children:this.state.loanTotal})]}),Object(O.jsxs)("div",{className:"plan__area__items",children:["Loan Intrest: ",Object(O.jsx)("h5",{children:this.state.loanIntrestTotal})]}),Object(O.jsxs)("div",{className:"plan__area__items",children:["Loan MS: ",Object(O.jsx)("h5",{children:this.state.MStotal})]})]}),Object(O.jsxs)("div",{style:{display:"flex"},children:[Object(O.jsxs)("div",{className:"plan__addItems",children:[Object(O.jsxs)("select",{name:"inputMaster",className:"plan__choise",onChange:this.changeOption,children:[Object(O.jsx)("option",{children:"Ammount In"}),Object(O.jsx)("option",{children:"Costumer Excess"}),Object(O.jsx)("option",{children:"Ammount Excess"}),Object(O.jsx)("option",{children:"Inversment"}),Object(O.jsx)("option",{children:"Others"}),Object(O.jsx)("option",{children:"Add Cash"})]}),this.state.showField?Object(O.jsx)("div",{children:Object(O.jsx)("input",{type:"text",className:"plan__showField",placeholder:"Enter  Name",onChange:function(t){return e.setState({lineup:t.target.value})},value:this.state.lineup})}):Object(O.jsx)("br",{}),Object(O.jsx)("input",{type:"text",onChange:function(t){return e.setState({entryAmmount:t.target.value})},placeholder:"Enter Ammount",value:this.state.entryAmmount}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{className:"plan__button",onClick:this.postEntryin,children:"Add"})]}),Object(O.jsxs)("div",{className:"plan__addItems1",children:[Object(O.jsxs)("select",{name:"inputMaster",className:"plan__choise",onChange:this.changeOption1,children:[Object(O.jsx)("option",{children:"Ammount Out"}),Object(O.jsx)("option",{children:"Costumer less ammount"}),Object(O.jsx)("option",{children:"Ammount Less"}),Object(O.jsx)("option",{children:"Profit takeout / Salary"}),Object(O.jsx)("option",{children:"Others"})]}),this.state.showField1?Object(O.jsx)("div",{children:Object(O.jsx)("input",{type:"text",className:"plan__showField",placeholder:"Enter  Name",onChange:function(t){return e.setState({linedown:t.target.value})},value:this.state.linedown})}):Object(O.jsx)("br",{}),Object(O.jsx)("input",{type:"text",onChange:function(t){return e.setState({entryAmmount:t.target.value})},placeholder:"Enter Ammount",value:this.state.entryAmmount}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{className:"plan__button",onClick:this.postEntryout,children:"Add"})]})]})]})})}}]),n}(c.a.Component),ae="getexpence/",ce=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).setDate=function(){var e=Object(j.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({date1:t.target.value,dailyExpence:Object(S.a)(Object(S.a)({},a.state.dailyExpence),{},{date:t.target.value})});case 2:return e.next=4,localStorage.setItem("date",a.state.date1);case 4:return a.calculateExpancetotal(),a.getDlammount(),e.next=8,localStorage.setItem("dl",a.state.dlammount);case 8:window.location.reload();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.callfunction=Object(j.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({date1:localStorage.getItem("date")});case 2:return e.next=4,a.calculateExpancetotal();case 4:return e.next=6,a.getDlammount();case 6:case"end":return e.stop()}}),e)}))),a.clearData=function(){a.setState({dailyExpence:{date:a.state.date1,expenceName:"",expenceAmmount:""}})},a.submitExpence=function(){b.a.post(ae,a.state.dailyExpence),a.clearData()},a.calculateExpancetotal=Object(j.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.next=3,b.a.get(ae).then((function(e){t=e.data.filter((function(e){return e.date.includes(a.state.date1)}))}));case 3:return e.next=5,t.map((function(e){return n=parseInt(e.expenceAmmount)+parseInt(n)}));case 5:a.setState({expenceTotal:n}),localStorage.setItem("expence",n);case 7:case"end":return e.stop()}}),e)}))),a.addExpenceTotal=Object(j.a)(h.a.mark((function e(){var t,n,c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.date1,e.next=3,b.a.get("getexpencetotal/").then((function(e){n=e.data.filter((function(e){return e.date.includes(a.state.date1)}))}));case 3:return e.next=5,n.map((function(e){return c=e.id}));case 5:return r={date:t,ammount:a.state.expenceTotal},e.next=8,console.log(n.length);case 8:1===n.length?(console.log(r),b.a.post("".concat("updateexpencetotal/").concat(c,"/"),r)):(console.log(r),b.a.post("createexpencetotal/",r).then((function(e){console.log(e)}))),a.calculateExpancetotal();case 10:case"end":return e.stop()}}),e)}))),a.getDlammount=Object(j.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("getdl/").then((function(e){return t=e.data.filter((function(e){return e.date.includes(localStorage.getItem("date"))}))}));case 2:console.log(t),t.map((function(e){return a.setState({dlammount:e.ammount})})),localStorage.setItem("dl",a.state.dlammount);case 5:case"end":return e.stop()}}),e)}))),a.state={date1:"",dailyExpence:{date:"",expenceName:"",expenceAmmount:""},expenceTotal:"",dlammount:""},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.callfunction()}},{key:"render",value:function(){return Object(O.jsxs)("div",{className:"reports__",children:[Object(O.jsxs)("div",{className:"reports__header",children:[Object(O.jsx)("h3",{children:"Date:"}),Object(O.jsx)(N.a,{type:"date",onChange:this.setDate,style:{marginLeft:"10px"},InputLabelProps:{shrink:!0},defaultValue:localStorage.getItem("date")})]}),Object(O.jsxs)("div",{className:"reports__top",children:[Object(O.jsx)("div",{className:"reports__expence",children:Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"200px",justifyContent:"space-evenly"},children:[Object(O.jsx)(d.b,{className:"button1",to:"/addexpence",children:"Add Expence"}),Object(O.jsx)("button",{className:"button1",onClick:this.addExpenceTotal,children:"Update Expence \u2714\u2714"})]})}),Object(O.jsx)("div",{className:"reports__plan",children:Object(O.jsx)(ne,{date:this.state.date1,dl:this.state.dlammount,epa:this.state.expenceTotal})})]}),Object(O.jsxs)("div",{className:"reports__bottom",children:[Object(O.jsx)("div",{className:"reports__bottom2",children:Object(O.jsxs)("h5",{children:["Dl Ammount: ",this.state.dlammount]})}),Object(O.jsx)("div",{className:"reports__bottom2",children:Object(O.jsxs)("h5",{children:["Expence Ammount: ",this.state.expenceTotal]})})]})]})}}]),n}(a.Component),re=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).submitExpence=function(){var e={date:a.state.date1,expenceName:a.state.expenceName,expenceAmmount:a.state.expenceAmmount};b.a.post("createexpence/",e),a.clearData()},a.clearData=function(){a.setState({expenceName:"",expenceAmmount:""})},a.setval=function(){var e=Object(j.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({expenceAmmount:t.target.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={date1:localStorage.getItem("date"),expenceName:"",expenceAmmount:""},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.setState({dailyExpence:Object(S.a)(Object(S.a)({},this.state.dailyExpence),{},{date:this.state.date1})})}},{key:"render",value:function(){var e=this;return Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:"reports__expence",children:[Object(O.jsx)("a",{style:{width:"200px",margin:"0px 0px 20px 0px",padding:"10px",border:"solid thin black","text-align":"center",textDecoration:"none"},href:"/reports",children:"Back"}),Object(O.jsx)("h3",{style:{"font-size":"30px"},children:"Expence"}),Object(O.jsxs)("h3",{children:["Date :",this.state.date1]}),Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"200px",justifyContent:"space-evenly"},children:["Expence Name:"," ",Object(O.jsxs)("select",{name:"expenceName",onChange:function(t){return e.setState({expenceName:t.target.value})},children:[Object(O.jsx)("option",{children:"Expense"}),Object(O.jsx)("option",{children:"Tea"}),Object(O.jsx)("option",{children:"FOOD"}),Object(O.jsx)("option",{children:"PETROL/GAS"}),Object(O.jsx)("option",{children:"SNACKS"}),Object(O.jsx)("option",{children:"MEDICAL"}),Object(O.jsx)("option",{children:"BIKE"}),Object(O.jsx)("option",{children:"BIKE OIL CHANGE"}),Object(O.jsx)("option",{children:"BIKE TIRE CHANGE"}),Object(O.jsx)("option",{children:"BIKE CHAIN"}),Object(O.jsx)("option",{children:"OTHERS"})]}),Object(O.jsx)("input",{type:"text",placeholder:"Ammount",onChange:this.setval,value:this.state.expenceAmmount}),Object(O.jsx)("button",{onClick:this.submitExpence,children:"Add Expence \ud83d\udcbe"})]})]})})}}]),n}(a.Component),oe=(n(139),sessionStorage.getItem("access_token")),se="getcostumer/".concat(oe),le=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).getAmmounts=Object(j.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.calculateCashinHand();case 2:return e.next=4,a.calculateInversment();case 4:return e.next=6,a.other_ammount_in();case 6:return e.next=8,a.closeUp();case 8:return e.next=10,a.closeDown();case 10:return e.next=12,a.other_ammount_out();case 12:return e.next=14,a.Others();case 14:return e.next=16,a.setState({dl:localStorage.getItem("dl"),expence:localStorage.getItem("expence"),loan:localStorage.getItem("loan"),intrest:localStorage.getItem("interst"),ms:localStorage.getItem("ms"),date:localStorage.getItem("date")});case 16:return e.next=18,a.ammountsTobe__added();case 18:return e.next=20,a.ammountsTobe__Sub();case 20:return e.next=22,a.calculateAmmountInHand();case 22:return e.next=24,localStorage.setItem("aih",a.state.cashINHand);case 24:case"end":return e.stop()}}),e)}))),a.calculateAmmountInHand=Object(j.a)(h.a.mark((function e(){var t,n,c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.AmmountAdd,c=t.AmmountSub,0,r=parseInt(n)-parseInt(c),e.next=5,a.setState({cashINHand1:r});case 5:case"end":return e.stop()}}),e)}))),a.ammountsTobe__added=Object(j.a)(h.a.mark((function e(){var t,n,c,r,o,s,l,u,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.cashInHand,c=t.Inversemet,r=t.other_ammount_in,o=t.dl,s=t.closeUp,l=t.intrest,u=t.ms,0,i=parseInt(n)+parseInt(c)+parseInt(r)+parseInt(o)+parseInt(s)+parseInt(l)+parseInt(u),e.next=5,a.setState({AmmountAdd:i});case 5:case"end":return e.stop()}}),e)}))),a.ammountsTobe__Sub=Object(j.a)(h.a.mark((function e(){var t,n,c,r,o,s,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.expence,c=t.other_ammount_out,r=t.Others,o=t.loan,s=t.closeDown,0,l=parseInt(n)+parseInt(c)+parseInt(r)+parseInt(o)+parseInt(s),e.next=5,a.setState({AmmountSub:l});case 5:case"end":return e.stop()}}),e)}))),a.other_ammount_out=Object(j.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,e.next=3,b.a.get("".concat("getoao")).then((function(e){e.data.filter((function(e){return e.date.includes(localStorage.getItem("date"))})).map((function(e){return t=parseInt(e.ammount)+parseInt(t)}))}));case 3:return e.next=5,a.setState({other_ammount_out:t});case 5:case"end":return e.stop()}}),e)}))),a.getCostumerData=Object(j.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("".concat(se)).then((function(e){t=e.data}));case 2:t.map((function(e){return"0"===e.ammount_Balance?b.a.delete("".concat("deletecostumer/").concat(e.id,"/").concat(oe,"/")).then((function(e){})).then((function(e){return"error"})):"functionexit"}));case 3:case"end":return e.stop()}}),e)}))),a.calculateCashinHand=Object(j.a)(h.a.mark((function e(){var t,n,c,r,o,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("date"),(n=new Date(t)).setDate(n.getDate()-1),c=n.getMonth(),r=n.getDate(),c<10&&(c="0"+(c=parseInt(c)+1)),r<10&&(r="0"+(r=parseInt(r)+1)),o=n.getFullYear()+"-"+c+"-"+r,e.next=10,b.a.get("".concat("getaih")).then((function(e){e.data.filter((function(e){return e.date.includes(o)})).map((function(e){return s=e.ammount}))}));case 10:if(void 0!==s){e.next=15;break}return e.next=13,a.setState({cashInHand:0});case 13:e.next=17;break;case 15:return e.next=17,a.setState({cashInHand:s});case 17:case"end":return e.stop()}}),e)}))),a.calculateInversment=Object(j.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,e.next=3,b.a.get("".concat("getinversment")).then((function(e){e.data.filter((function(e){return e.date.includes(localStorage.getItem("date"))})).map((function(e){return t=e.ammount}))}));case 3:return e.next=5,a.setState({Inversemet:t});case 5:case"end":return e.stop()}}),e)}))),a.other_ammount_in=Object(j.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,e.next=3,b.a.get("".concat("getoai")).then((function(e){e.data.filter((function(e){return e.date.includes(localStorage.getItem("date"))})).map((function(e){return t=parseInt(e.ammount)+parseInt(t)}))}));case 3:return e.next=5,a.setState({other_ammount_in:t});case 5:case"end":return e.stop()}}),e)}))),a.closeUp=Object(j.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,e.next=3,b.a.get("".concat("getcloseup")).then((function(e){e.data.filter((function(e){return e.date.includes(localStorage.getItem("date"))})).map((function(e){return t=parseInt(e.ammount)+parseInt(t)}))}));case 3:return e.next=5,a.setState({closeUp:t});case 5:case"end":return e.stop()}}),e)}))),a.closeDown=Object(j.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,e.next=3,b.a.get("".concat("getclosedown")).then((function(e){e.data.filter((function(e){return e.date.includes(localStorage.getItem("date"))})).map((function(e){return t=parseInt(e.ammount)+parseInt(t)}))}));case 3:return e.next=5,a.setState({closeDown:t});case 5:case"end":return e.stop()}}),e)}))),a.Others=Object(j.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,e.next=3,b.a.get("".concat("getothers")).then((function(e){e.data.filter((function(e){return e.date.includes(localStorage.getItem("date"))})).map((function(e){return t=parseInt(e.ammount)+parseInt(t)}))}));case 3:return e.next=5,a.setState({Others:t});case 5:case"end":return e.stop()}}),e)}))),a.saveData=Object(j.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.cashINHand1,n={date:localStorage.getItem("date"),ammount:t},e.next=4,b.a.post("".concat("createaih"),n).then((function(e){alert("Data Saved To database Ammount In Hand: ".concat(t))}));case 4:return e.next=6,a.getCostumerData();case 6:return e.next=8,localStorage.setItem("aih",t);case 8:case"end":return e.stop()}}),e)}))),a.state={date:"",cashInHand:"",Inversemet:0,other_ammount_in:0,closeUp:0,dl:0,expence:0,loan:0,intrest:0,ms:0,other_ammount_out:0,closeDown:0,Others:0,AmmountAdd:0,AmmountSub:0,cashINHand1:0},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getAmmounts()}},{key:"render",value:function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"plancalc__",children:[Object(O.jsxs)("h2",{children:["Cash In Hand: ",this.state.cashINHand1]}),Object(O.jsx)("button",{onClick:this.saveData,children:"Upload Today's Data"})]})})}}]),n}(a.Component),ue=(n(140),sessionStorage.getItem("access_token")),ie="getcollection/".concat(ue,"/"),de="getcostumer/".concat(ue,"/"),me=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).changeDate=function(){var e=Object(j.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({date1:t.target.value});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.setsearchCostumer=function(e){a.setState({searchTerm:e.target.value})},a.searchCostumerData=Object(j.a)(h.a.mark((function e(){var t,n,c,r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(de).then((function(e){n=e.data.filter((function(e){return e.name.toLowerCase().includes(a.state.searchTerm)}))}));case 2:return e.next=4,n.map((function(e){return c=e.loan_date}));case 4:return c=(c=new Date(c)).toDateString(),e.next=8,b.a.get(ie).then((function(e){return t=e.data}));case 8:r=t.filter((function(e){return e.costumer_name.toLowerCase().includes(a.state.searchTerm.toLowerCase())})),o=r.filter((function(e){return e.date<c})),a.setState({collectionData:o});case 11:case"end":return e.stop()}}),e)}))),a.getCostumerdata=Object(j.a)(h.a.mark((function e(){var t,n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sessionStorage.getItem("getcollection");case 2:if(t=e.sent,console.log(t),null===t){e.next=12;break}return n=[],e.next=8,b.a.get(ie).then((function(e){return n=e.data}));case 8:c=[],n.map((function(e){e.costumer_id.toString()===t.toString()&&c.push(e)})),a.setState({collectionData:c}),console.log(a.state.collectionData,"forigin praveen");case 12:case"end":return e.stop()}}),e)}))),a.state={date1:"",searchTerm:"",collectionData:[]},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getCostumerdata()}},{key:"render",value:function(){return Object(O.jsxs)("div",{className:"collectionDetails__",children:[Object(O.jsxs)("div",{className:"d-flex flex-row gap-3 bg-light p-3 border",children:[Object(O.jsx)("input",{type:"text",id:"outlined-search",onChange:this.setsearchCostumer,placeholder:"Enter Costumer Name",className:"collectionDetails__input"}),Object(O.jsx)("button",{className:"btn btn-warning",onClick:this.searchCostumerData,children:"\ud83d\udd0d Search"})]}),Object(O.jsx)("div",{className:"p-3",children:Object(O.jsx)("div",{className:"shadow-sm table-wrapper-scroll-y my-custom-scrollbar",children:Object(O.jsxs)("table",{className:"table table-bordered border-dark",children:[Object(O.jsx)("thead",{className:"thead-light",children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Date"}),""===this.state.searchTerm&&Object(O.jsx)("th",{className:"collection_name_",children:"Costumer Name"}),Object(O.jsx)("th",{children:"Ammount Collected"})]})}),Object(O.jsxs)("tbody",{children:[""===this.state.searchTerm&&this.state.collectionData.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:e.date}),Object(O.jsx)("td",{className:"collection_name_",children:e.costumer_name}),Object(O.jsx)("td",{children:e.ammount})]},e.id)})),""!==this.state.searchTerm&&this.state.collectionData.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:e.date}),Object(O.jsx)("td",{children:e.ammount})]},e.id)}))]})]})})})]})}}]),n}(a.Component),pe=n(62),he=n.n(pe);function je(){Object(m.f)();var e=Object(a.useState)(""),t=Object(f.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),o=Object(f.a)(r,2),s=o[0],l=o[1],u=Object(a.useState)(""),i=Object(f.a)(u,2),d=i[0],p=i[1],x=function(){var e=Object(j.a)(h.a.mark((function e(t){var a,c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,localStorage.setItem("company",n);case 3:return c={username:s,password:d},e.next=6,b.a.post("auth/login",c).then((function(e){a=e.data}));case 6:return e.next=8,sessionStorage.setItem("login",s);case 8:return r=a.authKey,e.next=11,sessionStorage.setItem("access_token",r);case 11:console.log(r),null===r||void 0===r?alert("Invalid User information"):window.location.href="/viewcostumers";case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){c(localStorage.getItem("company"))}),[]),Object(O.jsx)("div",{className:he.a.loginContainer,children:Object(O.jsxs)("form",{onSubmit:x,className:he.a.loginForm,children:[Object(O.jsx)("input",{type:"text",onChange:function(e){return c(e.target.value)},placeholder:"Company Name",className:"form-control",defaultValue:n}),Object(O.jsx)("input",{type:"text",onChange:function(e){return l(e.target.value)},className:"form-control",placeholder:"User Name"}),Object(O.jsx)("input",{type:"password",onChange:function(e){return p(e.target.value)},className:"form-control",placeholder:"Password"}),Object(O.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Login"})]})})}var fe=n(63),xe=sessionStorage.getItem("access_token"),be="getcostumer/".concat(xe,"/"),Oe=("getcollection/".concat(xe,"/"),"updatecostumer/"),ge="createcollection/".concat(xe,"/"),ve="getcollectionbydate/".concat(xe,"/"),_e="costumerdetail/";localStorage.getItem("date");function we(){var e=c.a.useState([]),t=Object(f.a)(e,2),n=t[0],a=t[1],r=c.a.useState(""),o=Object(f.a)(r,2),s=o[0],l=o[1],u=c.a.useState(""),i=Object(f.a)(u,2),d=(i[0],i[1],c.a.useState(!1)),m=Object(f.a)(d,2),p=m[0],x=m[1],g=c.a.useState([]),v=Object(f.a)(g,2),_=v[0],w=v[1],y=c.a.useRef([]),I=c.a.useState(!1),C=Object(f.a)(I,2),S=C[0],k=C[1],D=c.a.useState("Ammount Balance: $0.00"),A=Object(f.a)(D,2),E=A[0],L=A[1],B=function(e){return new Promise((function(t){return setTimeout(t,e)}))},T=function(){var e=Object(j.a)(h.a.mark((function e(t,n){var a,c,r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=parseInt(t.loanammount/100),c=parseInt(t.ammount_Balance)-a,r={name:t.name,loanammount:t.loanammount,loan_date:t.loan_date,loanInterst:t.loanInterst,ms:t.ms,place:t.place,ammount_Balance:c,place_id:t.place_id},o={date:s,costumer_id:t.id,costumer_name:t.name,ammount:a},e.next=6,b.a.post(ge,o).then((function(e){b.a.post("".concat(Oe).concat(t.id,"/"),r).then((function(e){console.log("updated")}),(function(e){console.log("error put",n)}))}),(function(e){console.log(e,"error")}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e=Object(j.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("".concat(ve).concat(s,"/")).then((function(e){w(e.data)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(j.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(be).then((function(e){a(e.data)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(j.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.sort((function(e,t){return e.place_id<t.place_id?-1:e.place_id>t.place_id?1:0})).map((function(e){T(e,e.id)}));case 2:B(2e3);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(j.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,P();case 3:R(),x(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(j.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.next=3,b.a.get("".concat(_e).concat(t,"/")).then((function(e){return L("The Balance of ".concat(e.data.name," is INR: ").concat(e.data.ammount_Balance))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();c.a.useEffect((function(){F()}),[s]);var H=function(){var e=Object(j.a)(h.a.mark((function e(t,n,a){var c,r,o,l,u,i,d;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("".concat(_e).concat(n.costumer_id,"/"));case 2:if(c=e.sent,"Enter"!==t.key){e.next=30;break}return r=c.data.ammount_Balance,parseInt(t.target.value)>parseInt(n.ammount)?(o=parseInt(t.target.value)-parseInt(n.ammount),r=parseInt(r)-parseInt(o)):parseInt(t.target.value)<parseInt(n.ammount)?(l=parseInt(n.ammount)-parseInt(t.target.value),r=parseInt(r)+parseInt(l)):r=c.data.ammount_Balance,e.next=8,c.data;case 8:return c=e.sent,e.next=11,{name:c.name,loanammount:c.loanammount,loan_date:c.loan_date,loanInterst:c.loanInterst,ms:c.ms,place:c.place,ammount_Balance:void 0===typeof r?r:r.toString(),place_id:c.place_id};case 11:return u=e.sent,e.next=14,console.log(u);case 14:return e.next=16,{date:s,costumer_id:n.costumer_id,costumer_name:n.costumer_name,ammount:t.target.value.toString()};case 16:return i=e.sent,e.next=19,console.log(i);case 19:return e.next=21,b.a.post("".concat(Oe).concat(n.costumer_id,"/"),u).then((function(e){b.a.post("".concat("updatecollection/").concat(n.id),i).then((function(e){return console.log("Added")}))}));case 21:return e.next=23,a;case 23:return e.t0=e.sent,d=e.t0+1,e.next=27,y.current[d];case 27:if(e.t1=e.sent,!e.t1){e.next=30;break}y.current[d].focus();case 30:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();function V(){k(!1)}return Object(O.jsxs)("div",{children:[Object(O.jsxs)(fe.a,{show:S,className:"d-flex flex-row gap-4 position-fixed end-0 top-0 bg-dark text-white",onClose:V,children:[Object(O.jsx)(fe.a.Body,{children:E}),Object(O.jsx)("button",{className:"btn",onClick:V,children:"\u274c"})]}),Object(O.jsx)("input",{type:"date",style:{width:200,border:"1px solid gray",padding:10,margin:20},placeholder:"Select Date",onChange:function(e){return l(e.target.value)}}),Object(O.jsx)("button",{className:"btn btn-primary",style:{margin:10},onClick:U,children:"Create Collection"}),Object(O.jsx)("button",{className:"btn btn-danger",style:{margin:10},onClick:R,children:"Load Collection"}),Object(O.jsx)("div",{children:!1===p?Object(O.jsxs)("table",{class:"table",children:[Object(O.jsx)("thead",{class:"thead-light",children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Name"}),Object(O.jsx)("th",{children:"Ammount"}),Object(O.jsx)("th",{children:"Balance"})]})}),Object(O.jsx)("tbody",{children:_.map((function(e,t){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:e.costumer_name}),Object(O.jsx)("td",{children:Object(O.jsx)(N.a,{label:"Ammount",inputProps:{onKeyPress:function(n){return H(n,e,t)}},placeholder:e.ammount,inputRef:function(e){return y.current[t]=e},onFocus:function(e){return e.target.select()},color:"secondary",defaultValue:e.ammount})}),Object(O.jsx)("td",{children:Object(O.jsx)("p",{class:"btn btn-primary",onClick:function(){return M(e.costumer_id)},children:"Get Balance"})})]})}))})]}):0===_.length?Object(O.jsx)("p",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",padding:"100px"},children:"No Records Found Create Collection"}):Object(O.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",padding:"100px"},children:Object(O.jsx)("div",{className:"spinner-border text-primary",role:"status",children:Object(O.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})})]})}var ye=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={company:"",loggedIn:!1},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("company"),t=sessionStorage.getItem("access_token");null===e||null===t||void 0===t?this.setState({company:"ABIPRAVI",loggedIn:!1}):this.setState({company:e,loggedIn:!0}),document.addEventListener("contextmenu",(function(e){e.preventDefault()}))}},{key:"render",value:function(){var e=[{path:"/viewcostumers",component:_},{path:"/addCostumer",component:I},{path:"/updateCostumer",component:M},{path:"/collectionDetails",component:G},{path:"/addCollection",component:$},{path:"/reports",component:ce},{path:"/Settings",component:W},{path:"/addExpence",component:re},{path:"/planclac",component:le},{path:"/costumercollection",component:me},{path:"/fastcollection",component:we}];return Object(O.jsx)("div",{className:"App",children:Object(O.jsxs)(d.a,{children:[Object(O.jsxs)("div",{className:"d-flex gap-3 p-2 align-middle bg-dark justify-content-evenly",children:[Object(O.jsx)("p",{className:"btn btn-seconday text-white fs-2",children:this.state.company}),this.state.loggedIn&&Object(O.jsx)("div",{className:"d-flex justify-content-evenly gap-3 p-2",children:[{name:"View Costumer Data",path:"/viewcostumers"},{name:"Add Costumer",path:"/addCostumer"},{name:"Collection Details",path:"/collectionDetails"},{name:"Add Collection",path:"/addCollection"},{name:"Reports",path:"/reports"},{name:"Upload Data",path:"/planclac"},{name:"Settings",path:"/Settings"},{name:"+",path:"/fastcollection"}].map((function(e){return Object(O.jsx)(d.c,{exact:!0,className:"btn btn-dark h-auto",activeClassName:"btn",to:e.path,children:e.name},e.name)}))})]}),Object(O.jsxs)("div",{className:"App__mainContent",children:[Object(O.jsx)(m.c,{children:!0===this.state.loggedIn&&e.map((function(e,t){return Object(O.jsx)(m.a,{exact:!0,path:e.path,component:e.component},t)}))}),!1===this.state.loggedIn&&Object(O.jsx)(je,{})]})]})})}}]),n}(a.Component);n(141);o.a.render(Object(O.jsx)(c.a.Fragment,{children:Object(O.jsx)(ye,{})}),document.getElementById("root"))},62:function(e,t,n){e.exports={loginContainer:"login_loginContainer__2AIG9",loginForm:"login_loginForm__1iibQ",button1:"login_button1__28_Ay"}},95:function(e,t,n){},96:function(e,t,n){},98:function(e,t,n){}},[[142,1,2]]]);
//# sourceMappingURL=main.00a3d1c1.chunk.js.map