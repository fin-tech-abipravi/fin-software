(this.webpackJsonpfin=this.webpackJsonpfin||[]).push([[0],{102:function(e,t,n){e.exports={loginContainer:"login_loginContainer__2AIG9",loginForm:"login_loginForm__1iibQ",button1:"login_button1__28_Ay"}},158:function(e,t,n){},160:function(e,t,n){},179:function(e,t,n){},181:function(e,t,n){},190:function(e,t,n){},191:function(e,t,n){},197:function(e,t,n){},199:function(e,t,n){},200:function(e,t,n){},201:function(e,t,n){},202:function(e,t,n){},203:function(e,t,n){},204:function(e,t,n){},205:function(e,t,n){},208:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(21),s=n.n(r),o=(n(158),n(2)),l=n.n(o),i=n(6),u=n(26),d=n(22),j=n(29),m=n(28),h=(n(160),n(35)),b=n(32),p=n(7),x=n.n(p),f=n(15),O=n(129),g=n(292),v=(n(41),n(5)),y=(n(179),n(0)),w="getcostumer/",N=sessionStorage.getItem("access_token"),_="".concat("http://localhost:8000","/getaihlatest"),S=sessionStorage.getItem("login");function k(){var e=Object(a.useState)([{name:"",loanammount:"",loan_date:"",loanInterst:"",ms:"",place:"",ammount_Balance:"",place_id:""}]),t=Object(v.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(v.a)(r,2),o=s[0],u=s[1],d=Object(a.useState)(""),j=Object(v.a)(d,2),m=j[0],h=j[1],b=Object(a.useState)(""),p=Object(v.a)(b,2),O=p[0],g=p[1],k=Object(a.useState)(""),C=Object(v.a)(k,2),I=C[0],D=C[1],A=Object(a.useState)(""),E=Object(v.a)(A,2),L=E[0],B=E[1],P=Object(a.useState)(0),T=Object(v.a)(P,2),R=T[0],F=T[1];function M(e){var t=new Date,n=new Date(Number(e));return n.setDate(e.getDate()+150),t>new Date(n)}var z;Object(a.useEffect)((function(){var e=function(){var e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get(_);case 2:t=e.sent,h(t.data.ammount);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(i.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,n=0,e.next=4,x.a.get("".concat(w).concat(N,"/")).then((function(e){e.data.map((function(e){return!1===M(new Date(e.loan_date))?t=parseInt(e.ammount_Balance)+parseInt(t):n=parseInt(e.ammount_Balance)+parseInt(n)}))}));case 4:D(n),g(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(i.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,n=0,e.next=4,x.a.get("".concat(w).concat(N,"/")).then((function(e){e.data.map((function(e){return!1===M(new Date(e.loan_date))?t=parseInt(e.loanammount)+parseInt(t):n=parseInt(e.loanammount)+parseInt(n)}))}));case 4:a=(parseInt(t)+parseInt(n))/100,F(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();x.a.get("".concat(w).concat(N,"/")).then((function(e){c(e.data)}),(function(e){f.c.error("Please Start the Server {to start server ==> open Server.bat File}\ud83d\udcc2\ud83d\udcc2\ud83d\udd25\ud83d\udd25")})),e(),t(),n()}),[]);var U=function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sessionStorage.setItem("getcollection",t);case 2:window.location.href="/costumercollection";case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=n.filter((function(e){return e.name.toLowerCase().includes(o.toLowerCase())})).sort((function(e,t){return e.place_id<t.place_id?-1:e.place_id>t.place_id?1:0})).map((function(e,t){return z=M(z=new Date(e.loan_date)),Object(y.jsxs)("div",{onClick:function(){return U(e.id)},className:"viewcostumers_tb_tb","data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:"Click to view collection list",children:[Object(y.jsx)("p",{className:!1===z?"normal":"late",children:e.name}),Object(y.jsxs)("h6",{children:["Place: \xa0",e.place]}),Object(y.jsxs)("h6",{children:["Loan Ammount: \xa0",e.loanammount]}),Object(y.jsxs)("h6",{children:["Balance:\xa0",e.ammount_Balance]}),Object(y.jsxs)("h6",{children:["Loan Date: \xa0",e.loan_date]})]},t)}));return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[Object(y.jsxs)("div",{className:"d-flex flex-column text-primary w-50",children:[Object(y.jsxs)("h3",{className:"p-3 rounded text-success",children:["Cash in Hand: ",m," \xa0\ud83d\udcb0\ud83d\udcb0"]}),"admin"===S?Object(y.jsxs)("div",{className:"d-flex flex-row text-primary gap-3 p-2 h3",children:[Object(y.jsx)("p",{className:"p-1 rounded text-dark",children:"Cash in Line: "}),Object(y.jsx)("p",{className:"p-2 bg-dark rounded text-white",children:O}),Object(y.jsx)("p",{className:"text-white p-2 bg-danger rounded",children:I}),Object(y.jsx)("p",{className:"text-white p-2 bg-success rounded",children:R})]}):null]}),Object(y.jsx)("input",{type:"text",id:"outlined-search",onChange:function(e){u(e.target.value)},className:"form-control w-25 h-25",placeholder:"Search Value"})]}),Object(y.jsx)("div",{className:"viewcostumers_table",children:Object(y.jsx)("div",{className:"viewcostumers_tb",children:H})}),"admin"===S?Object(y.jsxs)("div",{className:"d-flex flex-row gap-3 p-3",children:[Object(y.jsx)("input",{type:"url",className:"form-control h-25",placeholder:"URL",onChange:function(e){return B(e.target.value)}}),Object(y.jsx)("button",{className:"btn btn-success h-25 w-25",onClick:function(){var e;x.a.get(L).then((function(t){t.data.map((function(t){return e={name:t.name,loanammount:t.loanammount,loan_date:t.loan_date,loanInterst:t.loanInterst,ms:t.ms,place:t.place,ammount_Balance:t.ammount_Balance,place_id:t.place_id},x.a.post("http://localhost:8000/createcostumer/".concat(N,"/"),e),"function exit"}))}))},children:"Upload Data from Json Server"})]}):null]})}n(181);var C=sessionStorage.getItem("access_token"),I="createcostumer/".concat(C,"/"),D="places/",A="parties/".concat(C,"/"),E=sessionStorage.getItem("login"),L="parties/partyloans/".concat(C,"/"),B=function(){var e=Object(a.useState)(""),t=Object(v.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(0),s=Object(v.a)(r,2),o=s[0],u=s[1],d=Object(a.useState)(0),j=Object(v.a)(d,2),m=j[0],b=j[1],p=Object(a.useState)(localStorage.getItem("date")),O=Object(v.a)(p,2),g=O[0],w=O[1],N=Object(a.useState)(0),_=Object(v.a)(N,2),S=_[0],k=_[1],C=Object(a.useState)(""),B=Object(v.a)(C,2),P=B[0],T=B[1],R=Object(a.useState)(0),F=Object(v.a)(R,2),M=F[0],z=F[1],U=Object(a.useState)(""),H=Object(v.a)(U,2),V=H[0],Y=H[1],K=Object(a.useState)([]),G=Object(v.a)(K,2),W=G[0],J=G[1],X=Object(a.useState)([]),Q=Object(v.a)(X,2),$=Q[0],q=Q[1],Z=Object(a.useState)(0),ee=Object(v.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(0),ce=Object(v.a)(ae,2),re=ce[0],se=ce[1],oe=Object(a.useRef)(),le=function(){var e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get(D);case 2:t=e.sent,J(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){le()}),[]);var ie=function(){var e=Object(i.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get(A);case 2:return t=e.sent,e.next=5,t.data;case 5:return n=e.sent,e.next=8,q(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){ie()}),[]);var ue=function(){var e=Object(i.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={party_id:te,loan_id:t},x.a.post(L,n).then((function(){return f.c.success("New Loan Created Successfully")})),window.location.reload();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x.a.post(I,t).then((function(e){void 0===e.data.id?(se(!0),f.c.error("Error While Adding Loan Retry")):ue(e.data.id)}),(function(e){se(!0),f.c.error("Error While Adding Loan Retry")}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(i.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat(D).concat(V));case 2:return n=e.sent,e.next=5,T(n.data.place);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(i.a)(l.a.mark((function e(t,n,a,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(t);case 2:return e.next=4,c(n);case 4:return e.next=6,T(a);case 6:return e.next=8,Y(r);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){je()}),[V]);var he=function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.delete("".concat("parties/","detail/").concat(t,"/"));case 2:return e.next=4,ie();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:"w-100 gap-3 d-flex justify-content-center",children:[Object(y.jsxs)("form",{className:"d-flex p-3 flex-column gap-2",style:{width:250},children:[Object(y.jsx)("input",{type:"text",onChange:function(e){c(e.target.value)},placeholder:"Costumer Name",className:"form-control",name:"name",value:n}),Object(y.jsx)("input",{type:"number",onChange:function(e){u(e.target.value),z(e.target.value),b(e.target.value/10)},ref:oe,placeholder:"Loan Ammount",className:"form-control",name:"loanammount"}),Object(y.jsx)("input",{type:"date",className:"form-control",onChange:function(e){w(e.target.value)},defaultValue:localStorage.getItem("date")}),Object(y.jsx)("input",{type:"text",onChange:function(e){b(e.target.value)},value:m,placeholder:"Loan Intrest",className:"form-control",name:"loanInterst"}),Object(y.jsx)("input",{type:"text",onChange:function(e){k(e.target.value)},placeholder:"Loan MS",className:"form-control",name:"ms"}),Object(y.jsxs)("select",{className:"form-select",onChange:function(e){return Y(e.target.value)},children:[Object(y.jsx)("option",{className:"btn",value:"",children:"\u0b87\u0b9f\u0bae\u0bcd \u0ba4\u0bc7\u0bb0\u0bcd\u0ba8\u0bcd\u0ba4\u0bbf\u0b9f\u0bc1"}),W.map((function(e){return Object(y.jsx)("option",{className:"btn",value:e.place_id,children:e.place},e.id)}))]}),Object(y.jsxs)("p",{children:["Place: ",P]}),Object(y.jsxs)("div",{className:"d-flex gap-3",children:[Object(y.jsxs)("button",{className:"btn btn-primary",onClick:function(e){e.preventDefault(),de({name:n,loanammount:o,loan_date:g,loanInterst:m,ms:S,place:P,ammount_Balance:M,place_id:V})},style:{width:100},children:["Save \xa0 \xa0",Object(y.jsx)("span",{children:!0===re?Object(y.jsx)("i",{className:"bi bi-arrow-clockwise"}):Object(y.jsx)("i",{class:"bi bi-folder-check"})})]}),Object(y.jsx)(h.b,{to:"addParty",className:"btn btn-outline-primary","data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:"\u0baa\u0bc1\u0ba4\u0bbf\u0baf \u0baa\u0bbe\u0bb0\u0bcd\u0b9f\u0bcd\u0b9f\u0bbf \u0b9a\u0bc7\u0bb0\u0bcd",style:{width:50},children:Object(y.jsx)("i",{class:"bi bi-person-plus-fill"})})]})]}),V>0?Object(y.jsx)("div",{style:{height:"500px",overflowY:"scroll",width:500},className:"p-2",children:Object(y.jsxs)("table",{className:"table table-bordered",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Party Name"}),Object(y.jsx)("th",{children:"Select"}),"admin"===E?Object(y.jsx)("th",{children:"Delete"}):null]})}),Object(y.jsx)("tbody",{children:$.filter((function(e){return e.place_id.toString()===V.toString()})).map((function(e){return Object(y.jsxs)("tr",{className:te===e.id?"bg-primary p-1 text-white":"p-1",onClick:function(){me(e.id,e.name,e.place,e.place_id),oe.current&&oe.current.focus()},children:[Object(y.jsx)("td",{children:e.name}),Object(y.jsx)("td",{children:Object(y.jsx)("button",{className:te===e.id?"btn btn-dark":"btn btn-outline-dark",onClick:function(){return me(e.id,e.name,e.place,e.place_id)},children:te===e.id?Object(y.jsx)("i",{class:"bi bi-check2-circle"}):Object(y.jsx)("i",{class:"bi bi-check-all"})})}),"admin"===E?Object(y.jsx)("td",{children:Object(y.jsx)("button",{className:te===e.id?"btn btn-dark":"btn btn-outline-dark",onClick:function(){window.confirm("Are you sure want to delete this party")&&he(e.id)},children:Object(y.jsx)("i",{class:"bi bi-person-x-fill"})})}):null]},e.id)}))})]})}):null]})},P=n(9),T=n(34),R=(n(190),function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={collectionlist:[],newlist:0,date0:(new Date).getDate()-1,date1:(new Date).getDate(),date2:(new Date).getDate()+1,date3:(new Date).getDate()+2,date4:(new Date).getDate()+3,date5:(new Date).getDate()+4,emptyCols:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]},a}return Object(d.a)(n,[{key:"render",value:function(){return Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{class:"d-flex flex-column justify-content-center align-items-center w-100 my-4",children:localStorage.getItem("company")}),Object(y.jsx)("div",{className:"",children:Object(y.jsxs)("table",{id:"ifmcontentstoprint",className:"table table-bordered table-hover table-striped border-dark table-responsive-sm",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{style:{fontSize:16},children:"Id"}),Object(y.jsx)("th",{style:{fontSize:16},children:"Name"}),Object(y.jsx)("th",{style:{fontSize:16},children:"Loan"}),Object(y.jsx)("th",{style:{fontSize:16},children:"Balance"}),Object(y.jsx)("th",{style:{fontSize:16},children:"Loan Date"}),Object(y.jsx)("th",{style:{fontSize:16},children:"End Date"}),Object(y.jsx)("th",{style:{fontSize:16},children:"TOT. days"}),Object(y.jsx)("th",{style:{fontSize:16},children:this.state.date0}),Object(y.jsx)("th",{children:this.state.date1}),Object(y.jsx)("th",{children:this.state.date2}),Object(y.jsx)("th",{children:this.state.date3}),Object(y.jsx)("th",{children:this.state.date4}),Object(y.jsx)("th",{children:this.state.date5})]})}),Object(y.jsxs)("tbody",{children:[this.props.data.sort((function(e,t){return e.id<t.id?-1:e.id>t.id?1:0})).sort((function(e,t){return e.loan_date>t.loan_date?-1:e.loan_date<t.loan_date?1:0})).sort((function(e,t){return e.place_id<t.place_id?-1:e.place_id>t.place_id?1:0})).map((function(e,t){var n=function(e){var t=new Date(Number(e));t.setDate(e.getDate()+100);var n=t.getMonth(),a=t.getDate();return n<10&&(n="0"+(n=parseInt(n)+1)),a<10&&(a="0"+(a=parseInt(a))),t.getFullYear()+"-"+n+"-"+a}(new Date(e.loan_date)),a=function(e,t){var n,a=parseInt(t)/100;return n=100-parseInt(e)/a,Math.round(100*n)/100}(e.ammount_Balance,e.loanammount),c=function(e){var t=new Date(e),n=((new Date).getTime()-t.getTime())/864e5;return Math.round(n)-1}(e.loan_date);return Object(y.jsxs)("tr",{className:"",children:[Object(y.jsx)("td",{style:{fontSize:"13px",padding:"3px"},children:e.id}),Object(y.jsx)("td",{style:{fontSize:"15px",padding:"2px",width:"50px"},children:e.name}),Object(y.jsx)("td",{style:{fontSize:"11px",padding:"2px"},children:e.loanammount}),Object(y.jsx)("td",{style:{fontSize:"11px",padding:"2px"},children:e.ammount_Balance}),Object(y.jsx)("td",{style:{fontSize:"11px",padding:"2px"},children:e.loan_date}),Object(y.jsx)("td",{style:{fontSize:"11px",padding:"2px"},children:n}),Object(y.jsxs)("td",{style:{fontSize:"11px",padding:"2px",width:"20px"},children:[a," / ",c]}),Object(y.jsx)("td",{style:{fontSize:"11px",padding:"2px",width:"20px"},children:e.last_collected}),Object(y.jsx)("td",{style:{fontSize:"11px",padding:"2px"}}),Object(y.jsx)("td",{style:{fontSize:"11px",padding:"2px"},children:" "}),Object(y.jsx)("td",{style:{fontSize:"11px",padding:"2px"},children:" "}),Object(y.jsx)("td",{style:{fontSize:"11px",padding:"2px"},children:" "}),Object(y.jsx)("td",{style:{fontSize:"11px",padding:"2px"},children:" "})]},t)})),this.state.emptyCols.map((function(e){return Object(y.jsxs)("tr",{className:"print__table",children:[Object(y.jsx)("td",{style:{height:"20px",width:"20px"},children:" "}),Object(y.jsx)("td",{style:{fontSize:"11px",padding:"2px",width:"20px"}}),Object(y.jsx)("td",{style:{height:"20px",width:"20px"},children:" "}),Object(y.jsx)("td",{style:{height:"20px",width:"20px"},children:" "}),Object(y.jsx)("td",{style:{height:"20px",width:"20px"},children:" "}),Object(y.jsx)("td",{style:{height:"20px",width:"20px"},children:" "}),Object(y.jsx)("td",{style:{height:"20px",width:"20px"},children:" "}),Object(y.jsx)("td",{style:{height:"20px",width:"20px"},children:" "}),Object(y.jsx)("td",{style:{height:"20px",width:"20px"},children:" "}),Object(y.jsx)("td",{style:{height:"20px",width:"20px"},children:" "}),Object(y.jsx)("td",{style:{height:"20px",width:"20px"},children:" "}),Object(y.jsx)("td",{style:{height:"20px",width:"20px"},children:" "}),Object(y.jsx)("td",{style:{height:"20px",width:"20px"},children:" "})]})}))]})]})})]})}}]),n}(c.a.Component)),F=n(285),M=n(274),z=n(125),U=n.n(z),H=n(100),V=n.n(H),Y=n(291),K=n(287),G=n(289),W=(n(191),n(123)),J=n(124),X=n.n(J),Q=sessionStorage.getItem("access_token"),$=sessionStorage.getItem("login");"getcostumercollectionlatest/".concat(Q,"/");function q(e){return Object(y.jsx)(K.a,Object(T.a)({elevation:6,variant:"filled"},e))}function Z(){var e=Object(a.useRef)(),t=Object(a.useState)(!1),n=Object(v.a)(t,2),r=n[0],s=n[1],o=Object(a.useState)({name:"",loanammount:"",loan_date:"",loanInterst:"",ms:"",place:"",place_id:""}),u=Object(v.a)(o,2),d=u[0],j=u[1],m=Object(a.useState)([{name:"",loanammount:"",loan_date:"",loanInterst:"",ms:"",place:"",place_id:""}]),h=Object(v.a)(m,2),b=h[0],p=h[1],f=Object(a.useState)([{name:"",loanammount:"",loan_date:"",loanInterst:"",place:"",place_id:"",last_date:"",last_ammount:""}]),O=Object(v.a)(f,2),g=(O[0],O[1],Object(a.useState)("")),w=Object(v.a)(g,2),N=w[0],_=w[1],S=Object(a.useState)(null),k=Object(v.a)(S,2),C=k[0],I=k[1],D=c.a.useState(!1),A=Object(v.a)(D,2),E=A[0],L=A[1],B=c.a.useState(!1),z=Object(v.a)(B,2),H=z[0],K=z[1],J=function(){j({name:"",loanammount:"",ammount_Balance:"",loan_date:"",loanInterst:"",ms:"",place:"",place_id:""}),_("")},Z=function(){var e=Object(i.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n="".concat("updatecostumer","/").concat(C,"/"),x.a.post(n,t).then((function(e){I(null),ee(),K(!1),J()}),(function(e){console.log(e,"error")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e="".concat("getcostumer/").concat(Q,"/");x.a.get(e).then((function(e){p(e.data)}),(function(e){alert("Error Loading Data")})),console.log(b)},te=function(e){j(Object(T.a)(Object(T.a)({},d),{},Object(P.a)({},e.target.name,e.target.value)))},ne=function(){var e=Object(i.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat("deletecostumer","/").concat(t.id,"/").concat(Q,"/"),e.next=3,x.a.delete(n).then((function(e){L(!0),ee(),J()}),(function(e){console.log(e,"error")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){ee()}),[]);var ae=function(){L(!1)};function ce(e){var t=new Date,n=new Date(e),a=new Date(Number(n));return a.setDate(n.getDate()+1),t>new Date(a)}var re={data:b.sort((function(e,t){return e.place_id<t.place_id?-1:e.place_id>t.place_id?1:0})).map((function(e){return[e.name,e.loanammount,e.ammount_Balance,e.loan_date]})),headers:["name","loan","balance","date","1","2","3","4","5"],filename:"".concat((new Date).toDateString(),"_finDataabipravi.csv")},se=b.filter((function(e){return e.name.includes(N)})).sort((function(e,t){return e.id<t.id?-1:e.id>t.id?1:0})).map((function(e,t){new Date(e.loan_date);return Object(y.jsxs)("tr",{className:"",children:[Object(y.jsx)("td",{children:e.name}),Object(y.jsx)("td",{children:e.place}),Object(y.jsx)("td",{children:e.loanammount}),Object(y.jsx)("td",{children:e.ammount_Balance}),Object(y.jsx)("td",{children:e.loan_date}),Object(y.jsx)("td",{children:e.loanInterst}),Object(y.jsx)("td",{style:{padding:"12"},children:e.ms}),"admin"===$?Object(y.jsx)("td",{children:Object(y.jsx)("button",{onClick:function(){return function(e){var t=e.id,n=e.name,a=e.loanammount,c=e.ammount_Balance,r=e.loan_date,s=e.loanInterst,o=e.ms,l=e.place,i=e.place_id;I(t),j({name:n,loanammount:a,ammount_Balance:c,loan_date:r,loanInterst:s,ms:o,place:l,place_id:i}),K(!0)}(e)},className:"btn btn-outline-dark",children:Object(y.jsx)(U.a,{})})}):null,!1===ce(e.loan_date)||"admin"===$?Object(y.jsx)("td",{children:Object(y.jsx)("button",{onClick:function(){window.confirm("Are you sure want to delete the item?")&&ne(e)},className:"btn btn-outline-dark",children:Object(y.jsx)(V.a,{})})}):null]},t)}));return Object(y.jsxs)("div",{className:"",children:[Object(y.jsx)(G.a,{open:H,onClose:ae,style:{color:"black",height:"70%",display:"flex",alignItems:"center",justifyContent:"center","margin-top":70},children:Object(y.jsxs)("div",{className:"d-flex flex-column gap-3 bg-white p-4 rounded-3",children:[Object(y.jsx)("h4",{children:"Update Costumer"}),Object(y.jsx)("input",{type:"text",onChange:te,value:d.name,placeholder:"Costumer Name",className:"form-control",name:"name"}),Object(y.jsx)("input",{type:"text",onChange:te,value:d.loanammount,placeholder:"Loan Ammount",className:"form-control",name:"loanammount"}),Object(y.jsx)("input",{type:"text",onChange:te,value:d.ammount_Balance,placeholder:"Ammount Balance",className:"form-control",name:"ammount_Balance"}),Object(y.jsx)(F.a,{type:"date",name:"loan_date",InputLabelProps:{shrink:!0},defaultValue:d.loan_date,className:"form-control",onChange:te}),Object(y.jsx)("input",{type:"text",onChange:te,value:d.loanInterst,placeholder:"Loan Intrest",name:"loanIntrest",className:"form-control"}),Object(y.jsx)("input",{type:"text",onChange:te,value:d.ms,placeholder:"MS",name:"ms",className:"form-control"}),Object(y.jsx)("input",{type:"text",onChange:te,value:d.place,placeholder:"Place",name:"place",className:"form-control"}),Object(y.jsx)("input",{type:"text",onChange:te,value:d.place_id,placeholder:"Place Id",name:"place_id",className:"form-control"}),Object(y.jsx)(M.a,{variant:"outlined",style:{outline:"none"},color:"primary",onClick:function(e){e.preventDefault(),null!=C&&Z(d)},children:"Update Costumer"})]})}),Object(y.jsxs)("div",{className:"d-flex flex-column gap-3 h-auto",children:[Object(y.jsxs)("div",{className:"d-flex flex-row gap-3",children:[Object(y.jsx)("input",{onChange:function(e){_(e.target.value)},className:"input-control",placeholder:"Search Costumers",type:"search"}),"admin"===$?Object(y.jsx)(W.CSVLink,Object(T.a)(Object(T.a)({},re),{},{target:"_blank",className:"link-button",children:"Download Costumer Data"})):null,Object(y.jsx)(X.a,{trigger:function(){return Object(y.jsx)("button",{className:"btn btn-primary",onClick:function(){return s(!r)},children:"Print Out!"})},content:function(){return e.current}}),Object(y.jsx)("a",{className:"btn btn-primary",onClick:function(){return s(!r)},children:"Print"})]}),!1===r?Object(y.jsx)("div",{className:"overflow-auto",style:{height:"70vh"},children:Object(y.jsxs)("table",{className:"table table-bordered table-hover table-striped border-dark",children:[Object(y.jsx)("thead",{className:"table-dark",children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:"Name"}),Object(y.jsx)("td",{children:"Place"}),Object(y.jsx)("td",{children:"Loan Ammount"}),Object(y.jsx)("td",{children:"Ammount Balance"}),Object(y.jsx)("td",{children:"Loan Date"}),Object(y.jsx)("td",{children:"Loan Intrest"}),Object(y.jsx)("td",{children:"MS"}),"admin"===$?Object(y.jsx)("td",{children:"Edit"}):null,Object(y.jsx)("td",{children:"Delete"})]})}),Object(y.jsx)("tbody",{className:"",children:se})]})}):Object(y.jsx)(R,{ref:e,data:b})]}),Object(y.jsx)(Y.a,{open:E,autoHideDuration:6e3,children:Object(y.jsx)(q,{onClose:ae,severity:"success",children:"Costumer Deleted Successfully"})})]})}var ee=n(293),te=n(296),ne=n(294),ae=n(295),ce=n(282),re=(n(197),sessionStorage.getItem("access_token")),se="getcollection/".concat(re,"/"),oe="getcostumer/".concat(re,"/"),le="getcollectionbydate/".concat(re,"/"),ie=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).setHeadScroll=function(){a.setState({headscroll:!a.state.headscroll})},a.CalculateDL=Object(i.a)(l.a.mark((function e(){var t,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.date1,c=0,e.next=4,x.a.get("".concat(le).concat(t)).then((function(e){return n=e.data}));case 4:return e.next=6,n.map((function(e){return c=parseInt(e.ammount)+parseInt(c)}));case 6:return e.next=8,a.setState({dl:c});case 8:case"end":return e.stop()}}),e)}))),a.deleteCollection=function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x.a.delete("".concat("deletecollection/").concat(t)),a.getCostumerdata(),a.setState({open:!1});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.updateDL=Object(i.a)(l.a.mark((function e(){var t,n,c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.date1,e.next=3,x.a.get("getdl/").then((function(e){return n=e.data.filter((function(e){return e.date.includes(t)}))}));case 3:return e.next=5,{date:t,ammount:a.state.dl};case 5:c=e.sent,0===n.length?x.a.post("".concat("createdl","/"),c):(n.map((function(e){return r=e.id})),x.a.post("".concat("updatedl","/").concat(r,"/"),c)),f.c.success("DL Saved Successfully");case 8:case"end":return e.stop()}}),e)}))),a.changeDate=function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({date1:t.target.value});case 2:return new Date(a.state.date1),e.next=5,a.callfunction();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.callfunction=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({loading:!0});case 2:return e.next=4,a.CalculateDL();case 4:return e.next=6,a.getCostumerdata();case 6:return e.next=8,a.setState({loading:!1});case 8:return e.next=10,a.sortbyCostumerCollectionData();case 10:case"end":return e.stop()}}),e)}))),a.setsearchCostumer=function(e){a.setState({searchTerm:e.target.value})},a.editCollection=function(){var e=Object(i.a)(l.a.mark((function e(t,n){var c,r,s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get(oe).then((function(e){c=e.data}));case 2:return e.next=4,c.map((function(e){e.id===n&&(s=e)}));case 4:return e.next=6,a.setState({updated_costumerRecords:{name:s.name,loanammount:s.loanammount,ammount_Balance:s.ammount_Balance,loan_date:s.loan_date,loanInterst:s.loanInterst,ms:s.ms,place:s.place,place_id:s.place_id},editCostumerID:s.id});case 6:return e.next=8,x.a.get(se).then((function(e){return r=e.data}));case 8:return e.next=10,r.map((function(e){e.id===t.id&&(o=e)}));case 10:return e.next=12,a.editammountref.current.focus();case 12:return e.next=14,a.editammountref.current.select();case 14:return e.next=16,a.setState({editdate:o.date,editcostumer_name:o.costumer_name,editammount:o.ammount,editCollectionID:o.id,collectedAmmount:o.ammount,editCostumerID:t.costumer_id});case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.updateCollection=Object(i.a)(l.a.mark((function e(){var t,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.updated_costumerRecords.ammount_Balance,a.state.editammount>a.state.collectedAmmount?(n=parseInt(a.state.editammount)-parseInt(a.state.collectedAmmount),t=parseInt(t)-parseInt(n)):(c=parseInt(a.state.collectedAmmount)-parseInt(a.state.editammount),t=parseInt(t)+parseInt(c)),t.toString(),e.next=5,a.setState({updatedCollectionrecords:Object(T.a)(Object(T.a)({},a.state.updatedCollectionrecords),{},{date:a.state.editdate,costumer_id:a.state.editCostumerID,costumer_name:a.state.editcostumer_name,ammount:a.state.editammount}),updated_costumerRecords1:{name:a.state.updated_costumerRecords.name,loanammount:a.state.updated_costumerRecords.loanammount,loan_date:a.state.updated_costumerRecords.loan_date,loanInterst:a.state.updated_costumerRecords.loanInterst,ms:a.state.updated_costumerRecords.ms,place:a.state.updated_costumerRecords.place,ammount_Balance:t.toString(),place_id:a.state.updated_costumerRecords.place_id}});case 5:return e.next=7,x.a.post("".concat("updatecollection/").concat(a.state.editCollectionID),a.state.updatedCollectionrecords);case 7:return e.next=9,x.a.post("".concat("updatecostumer/").concat(a.state.editCostumerID,"/"),a.state.updated_costumerRecords1);case 9:a.getCostumerdata(),a.sortbyCostumerCollectionData(),a.CalculateDL();case 12:case"end":return e.stop()}}),e)}))),a.editCollectionFunction=function(e){a.setState({editammount:e.target.value})},a.getCostumerdata=function(){var e=Object(i.a)(l.a.mark((function e(t){var n,c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.state.date1;case 2:return n=e.sent,r=f.c.loading("Data Loading...",{className:"bg-dark"}),e.next=6,x.a.get("".concat(le).concat(n,"/")).then((function(e){c=e.data}));case 6:return e.next=8,a.setState({collectionData:c});case 8:return e.next=10,f.c.update(r,{render:"Collection Loaded Successfully",type:"success",isLoading:!1,autoClose:1,className:"bg-dark text-white",closeOnClick:!0});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.searchCostumerData=Object(i.a)(l.a.mark((function e(){var t,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get(se).then((function(e){return t=e.data}));case 2:n=t.filter((function(e){return e.costumer_name.toLowerCase().includes(a.state.searchTerm.toLowerCase())})),c=n.filter((function(e){return e.date.includes(a.state.date1)})),a.setState({collectionData:c});case 5:case"end":return e.stop()}}),e)}))),a.sortbyCostumerID=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,a.state.collectionData.sort((function(e,t){return e.costumer_id<t.costumer_id?-1:e.costumer_id>t.costumer_id?1:0})).map(function(){var e=Object(i.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.push(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return e.next=5,a.setState({collectionData:t});case 5:case"end":return e.stop()}}),e)}))),a.sortbyCostumerCollectionData=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,a.state.collectionData.sort((function(e,t){return e.id<t.id?-1:e.id>t.id?1:0})).map(function(){var e=Object(i.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.push(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return e.next=5,a.setState({collectionData:t});case 5:case"end":return e.stop()}}),e)}))),a.handleClickOpen=function(){a.setState({open:!a.state.open})},a.state={date1:"",dl:0,searchTerm:"",collectionData:[],updated_costumerRecords:{name:"Name",loanammount:"",ammount_Balance:"",loan_date:"",loanIntrest:"",ms:"",place:"",place_id:""},editCostumerID:"",editCollectionID:"",editdate:"",editcostumer_name:"",editammount:"0",collectedAmmount:"",editcostumerid:"",updated_costumerRecords1:{name:"",loanammount:"",ammount_Balance:"",loan_date:"",loanIntrest:"",ms:"",place:"",place_id:""},updatedCollectionrecords:{date:"",costumer_id:"",costumer_name:"",ammount:""},loading:!1,headscroll:!0,open:!1,openDeleteCollectionId:null},a.editammountref=c.a.createRef(),a}return Object(d.a)(n,[{key:"getprevdate_editdisable",value:function(){var e=(new Date).toISOString().slice(0,10),t=new Date(this.state.date1);return"Invalid Date"!==t.toString()&&t.toISOString().slice(0,10)===e}},{key:"render",value:function(){var e=this;return Object(y.jsxs)("div",{className:"collectionDetails__",children:[Object(y.jsxs)("div",{className:"d-flex flex-row gap-4 bg-light p-3 align-middle",children:[Object(y.jsx)("div",{className:"d-flex flex-row gap-2",children:Object(y.jsx)(F.a,{id:"date",label:"Select Date",onChange:this.changeDate,variant:"filled",type:"date",sx:{width:220},InputLabelProps:{shrink:!0}})}),Object(y.jsx)("div",{children:Object(y.jsxs)("h4",{className:"btn text-primary h4",children:["DL Ammount: ",this.state.dl]})}),Object(y.jsx)("input",{type:"text",style:{marginLeft:"20px",outline:"none",flex:"0.9"},className:"form-control",onChange:this.setsearchCostumer,placeholder:"Enter Costumer Name"}),Object(y.jsx)("button",{className:"btn btn-outline-primary",style:{margin:7},onClick:this.searchCostumerData,children:"\ud83d\udd0d Search"})]}),Object(y.jsxs)(ee.a,{open:this.state.open,onClose:this.handleClickOpen,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(y.jsx)(ce.a,{id:"alert-dialog-title",children:localStorage.getItem("company")}),Object(y.jsx)(ne.a,{children:Object(y.jsx)(ae.a,{id:"alert-dialog-description",children:"Are you sure want to delete this Collection Data?"})}),Object(y.jsxs)(te.a,{children:[Object(y.jsx)(M.a,{onClick:this.handleClickOpen,children:"Disagree"}),Object(y.jsx)(M.a,{onClick:function(){return e.deleteCollection(e.state.openDeleteCollectionId)},autoFocus:!0,children:"Agree"})]})]}),Object(y.jsxs)("div",{className:"d-flex gap-3 p-10",children:[Object(y.jsx)("div",{className:!0===this.state.headscroll?"p-3 table-wrapper-scroll-y my-custom-scrollbar":"p-3",children:Object(y.jsxs)("table",{className:"table table-bordered border-dark",children:[Object(y.jsx)("thead",{className:"thead-dark",children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Costumer Name"}),Object(y.jsx)("th",{children:"Ammount Collected"}),!0===this.getprevdate_editdisable()||"admin"===sessionStorage.getItem("login")?Object(y.jsx)("th",{children:"Edit"}):null,"admin"===sessionStorage.getItem("login")?Object(y.jsx)("th",{children:"Delete"}):null]})}),Object(y.jsx)("tbody",{className:"collectionDetails__collectiontr",children:this.state.collectionData.map((function(t){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:t.costumer_name}),Object(y.jsx)("td",{children:t.ammount}),!0===e.getprevdate_editdisable()||"admin"===sessionStorage.getItem("login")?Object(y.jsx)("td",{children:Object(y.jsx)("button",{onClick:function(){return e.editCollection(t,t.costumer_id)},className:"btn btn-danger",children:"Edit"})}):null,"admin"===sessionStorage.getItem("login")?Object(y.jsx)("td",{children:Object(y.jsx)("button",{className:"btn btn-danger",onClick:function(){e.setState({openDeleteCollectionId:t.id,open:!0})},children:"Del"})}):""]},t.id)}))})]})}),Object(y.jsx)("div",{className:"d-flex flex-column gap-2",children:!0===this.getprevdate_editdisable()||"admin"===sessionStorage.getItem("login")?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("input",{style:{margin:7},type:"text",className:"form-control",value:this.state.updated_costumerRecords.name}),Object(y.jsx)("input",{style:{margin:7},ref:this.editammountref,value:this.state.editammount,type:"number",className:"form-control",onChange:this.editCollectionFunction}),Object(y.jsx)(M.a,{variant:"outlined",color:"secondary",style:{margin:7},onClick:this.updateCollection,children:"\u0bb5\u0bb0\u0bb5\u0bc1 \u0baa\u0ba4\u0bbf\u0bb5\u0bc1 \u0b9a\u0bc6\u0baf\u0bcd"}),Object(y.jsx)(M.a,{variant:"contained",color:"secondary",style:{margin:7},onClick:this.updateDL,children:"DL \u0baa\u0ba4\u0bbf\u0bb5\u0bc7\u0bb1\u0bcd\u0bb1\u0bc1\u2714\u2714"}),Object(y.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(y.jsx)("button",{onClick:this.sortbyCostumerID,className:"btn btn-primary m-3",children:"Cos. Sort"}),Object(y.jsx)("button",{onClick:this.sortbyCostumerCollectionData,className:"btn btn-primary m-3",children:"Place. Sort"})]})]}):null})]})]})}}]),n}(c.a.Component),ue=(n(199),sessionStorage.getItem("access_token")),de="getcollection/".concat(ue,"/"),je="getcollectionbydate/".concat(ue,"/"),me="getcostumer/".concat(ue,"/"),he=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).callfunction=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getCostumerdata();case 2:case"end":return e.stop()}}),e)}))),a.setsearchCostumer=function(e){a.setState({searchTerm:sessionStorage.getItem("costumer__id")})},a.editCollection=function(){var e=Object(i.a)(l.a.mark((function e(t,n){var c,r,s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get(me).then((function(e){c=e.data}));case 2:return e.next=4,c.map((function(e){e.id===n&&(s=e)}));case 4:return a.setState({updated_costumerRecords:{name:s.name,loanammount:s.loanammount,ammount_Balance:s.ammount_Balance,loan_date:s.loan_date,loanInterst:s.loanInterst,ms:s.ms,place:s.place,place_id:s.place_id,last_collected:s.last_collected,last_collected_date:localStorage.getItem("date")},editCostumerID:s.id}),e.next=7,x.a.get(de).then((function(e){return r=e.data}));case 7:return e.next=9,r.map((function(e){e.id===t.id&&(o=e)}));case 9:return e.next=11,a.setState({editdate:o.date,editcostumer_name:o.costumer_name,editammount:o.ammount,editCollectionID:o.id,collectedAmmount:o.ammount,editCostumerID:t.costumer_id});case 11:a.ammountRef.current.focus();case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.updateCollection=function(){var e=Object(i.a)(l.a.mark((function e(t){var n,c,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state.updated_costumerRecords.ammount_Balance,a.state.editammount>a.state.collectedAmmount?(c=parseInt(a.state.editammount)-parseInt(a.state.collectedAmmount),n=parseInt(n)-parseInt(c)):(r=parseInt(a.state.collectedAmmount)-parseInt(a.state.editammount),n=parseInt(n)+parseInt(r)),n.toString(),e.next=6,a.setState({updatedCollectionrecords:Object(T.a)(Object(T.a)({},a.state.updatedCollectionrecords),{},{date:a.state.editdate,costumer_id:a.state.editCostumerID,costumer_name:a.state.editcostumer_name,ammount:a.state.editammount}),updated_costumerRecords1:{name:a.state.updated_costumerRecords.name,loanammount:a.state.updated_costumerRecords.loanammount,loan_date:a.state.updated_costumerRecords.loan_date,loanInterst:a.state.updated_costumerRecords.loanInterst,ms:a.state.updated_costumerRecords.ms,place:a.state.updated_costumerRecords.place,ammount_Balance:n.toString(),place_id:a.state.updated_costumerRecords.place_id,last_collected:a.state.editammount,last_collected_date:localStorage.getItem("date")}});case 6:return e.next=8,x.a.post("".concat("updatecollection/").concat(a.state.editCollectionID),a.state.updatedCollectionrecords);case 8:return e.next=10,x.a.post("".concat("updatecostumer/").concat(a.state.editCostumerID,"/"),a.state.updated_costumerRecords1);case 10:a.getCostumerdata(),s="Updated "+a.state.updated_costumerRecords1.name+"-"+a.state.updatedCollectionrecords.ammount,f.c.success(s),a.props.hide();case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.editCollectionFunction=function(e){a.setState({editammount:e.target.value})},a.getCostumerdata=function(){var e=Object(i.a)(l.a.mark((function e(t){var n,c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("date"),e.next=3,x.a.get("".concat(je).concat(n,"/")).then((function(e){c=e.data}));case 3:return e.next=5,c.filter((function(e){return e.costumer_id.toString().includes(sessionStorage.getItem("costumer__id").toString())}));case 5:return r=e.sent,e.next=8,a.setState({collectionData:r});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.searchCostumerData=Object(i.a)(l.a.mark((function e(){var t,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get(de).then((function(e){return t=e.data}));case 2:n=t.filter((function(e){return e.costumer_id.toString().toLowerCase().includes(a.state.searchTerm.toString().toLowerCase())})),c=n.filter((function(e){return e.date.includes(a.state.date1)})),a.setState({collectionData:c});case 5:case"end":return e.stop()}}),e)}))),a.state={date1:"",searchTerm:sessionStorage.getItem("costumer__id"),collectionData:[],updated_costumerRecords:{name:"Name",loanammount:"",ammount_Balance:"",loan_date:"",loanIntrest:"",ms:"",place:"",place_id:"",last_collected:"",last_collected_date:""},editCostumerID:"",editCollectionID:"",editdate:"",editcostumer_name:"",editammount:"Ammount",collectedAmmount:"",editcostumerid:"",updated_costumerRecords1:{name:"",loanammount:"",ammount_Balance:"",loan_date:"",loanIntrest:"",ms:"",place:"",place_id:""},updatedCollectionrecords:{date:"",costumer_id:"",costumer_name:"",ammount:""}},a.ammountRef=c.a.createRef(),a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.callfunction()}},{key:"render",value:function(){var e=this;return Object(y.jsx)("div",{className:"collectionDetails__",children:Object(y.jsxs)("div",{className:"d-flex gap-3 p-10",children:[Object(y.jsx)("div",{className:"p-3 table-wrapper-scroll-y my-custom-scrollbar",children:Object(y.jsxs)("table",{className:"table table-bordered border-dark",children:[Object(y.jsx)("thead",{className:"thead-dark",children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Costumer Name"}),Object(y.jsx)("th",{children:"Ammount Collected"}),Object(y.jsx)("th",{children:"Edit"})]})}),Object(y.jsx)("tbody",{className:"collectionDetails__collectiontr",children:this.state.collectionData.sort((function(e,t){return e.id<t.id?-1:e.id>t.id?1:0})).map((function(t){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:t.costumer_name}),Object(y.jsx)("td",{children:t.ammount}),Object(y.jsx)("td",{children:Object(y.jsx)("button",{onClick:function(){return e.editCollection(t,t.costumer_id)},className:"btn btn-danger",children:"Edit"})})]},t.id)}))})]})}),Object(y.jsxs)("form",{className:"d-flex flex-column gap-2",children:[Object(y.jsx)("input",{className:"form-control",style:{margin:7},value:this.state.updated_costumerRecords.name}),Object(y.jsx)("input",{style:{margin:7},value:this.state.editammount,ref:this.ammountRef,className:"form-control",onFocus:function(e){return e.target.select()},onChange:this.editCollectionFunction}),Object(y.jsx)("button",{className:"btn btn-danger",type:"submit",style:{margin:7},onClick:this.updateCollection,children:"Update Collections"})]})]})})}}]),n}(c.a.Component),be=(n(200),sessionStorage.getItem("access_token")),pe=("getcostumer/".concat(be,"/"),function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).setsearchCostumer=function(e){a.setState({searchTerm:e.target.value})},a.findCostumerData=Object(i.a)(l.a.mark((function e(){var t,n,c,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sessionStorage.getItem("getcollection");case 2:if(null===(t=e.sent)){e.next=17;break}return e.next=6,x.a.get("".concat("costumerdetail/").concat(t,"/"));case 6:return n=e.sent,a.setState({costumerName:n.data.name,costumerLoan:n.data.loanammount,costumerBalance:n.data.ammount_Balance}),"",e.next=11,a.finddays(n.data.ammount_Balance,n.data.loanammount);case 11:return c=e.sent,e.next=14,a.calculatedays(n.data.loan_date);case 14:r=e.sent,(s=Math.round(c/r*100))>70?a.setState({costumerstatus:"Active"}):s<70&&s>50?a.setState({costumerstatus:"Less Active"}):s<50&&s>30?a.setState({costumerstatus:"Pending"}):s<30&&a.setState({costumerstatus:"NIP"});case 17:case"end":return e.stop()}}),e)}))),a.finddays=function(e,t){var n,a=parseInt(t)/100;return n=100-parseInt(e)/a,Math.round(100*n)/100},a.calculatedays=function(e){var t=new Date(e),n=((new Date).getTime()-t.getTime())/864e5;return Math.round(n)},a.getCostumerdata=Object(i.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sessionStorage.getItem("getcollection");case 2:if(null===(t=e.sent)){e.next=8;break}return n=[],e.next=7,x.a.get("".concat("getcollectiondetail/").concat(t,"/")).then((function(e){return n=e.data}));case 7:a.setState({collectionData:n});case 8:case"end":return e.stop()}}),e)}))),a.state={date1:"",searchTerm:"",collectionData:[],costumerName:"",costumerLoan:"",costumerBalance:"",costumerstatus:"pending"},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.getCostumerdata(),this.findCostumerData()}},{key:"render",value:function(){return Object(y.jsxs)("div",{className:"collectionDetails__",children:[Object(y.jsxs)("div",{className:"d-flex flex-row gap-3 p-3 border rounded",children:[Object(y.jsxs)("p",{children:[Object(y.jsx)("span",{children:"Costumer Name: "}),Object(y.jsx)("span",{className:"text-primary h6",style:{color:"#0D503C"},children:this.state.costumerName})]}),Object(y.jsxs)("p",{children:[Object(y.jsx)("span",{children:"Loan Ammount: "}),Object(y.jsx)("span",{className:"text-primary h6",style:{color:"#0D503C"},children:this.state.costumerLoan})]}),Object(y.jsxs)("p",{children:[Object(y.jsx)("span",{children:"Balance: "}),Object(y.jsx)("span",{className:"text-primary h6",style:{color:"#0D503C"},children:this.state.costumerBalance})]}),Object(y.jsxs)("p",{children:[Object(y.jsx)("span",{children:"Status: "})," ","Active"===this.state.costumerstatus?Object(y.jsx)("span",{className:"text-white h6 badge bg-success p-1",style:{color:"#0D503C"},children:this.state.costumerstatus}):"Less Active"===this.state.costumerstatus?Object(y.jsx)("span",{className:"text-white h6 badge bg-primary p-1",style:{color:"#0D503C"},children:this.state.costumerstatus}):"Pending"===this.state.costumerstatus?Object(y.jsx)("span",{className:"text-dark h6 badge bg-warning p-1",style:{color:"#0D503C"},children:this.state.costumerstatus}):"NIP"===this.state.costumerstatus?Object(y.jsx)("span",{className:"text-white h6 badge bg-danger p-1",style:{color:"#0D503C"},children:this.state.costumerstatus}):"No Status"]})]}),Object(y.jsx)("div",{className:"p-3",children:Object(y.jsx)("div",{className:"shadow-sm table-wrapper-scroll-y my-custom-scrollbar",children:Object(y.jsxs)("table",{className:"table table-bordered border-dark",children:[Object(y.jsx)("thead",{className:"thead-light",children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Date"}),Object(y.jsx)("th",{children:"Ammount Collected"})]})}),Object(y.jsxs)("tbody",{children:[""===this.state.searchTerm&&this.state.collectionData.map((function(e){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:e.date}),Object(y.jsx)("td",{children:e.ammount})]},e.id)})),""!==this.state.searchTerm&&this.state.collectionData.map((function(e){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:e.date}),Object(y.jsx)("td",{children:e.ammount})]},e.id)}))]})]})})})]})}}]),n}(a.Component)),xe=sessionStorage.getItem("access_token"),fe="getcostumer/".concat(xe,"/"),Oe="createcollection/".concat(xe,"/");function ge(){var e=Object(a.useState)(""),t=Object(v.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(0),s=Object(v.a)(r,2),o=s[0],u=s[1],d=Object(a.useState)([{name:"",loanammount:"",loan_date:"",loanInterst:"",ms:"",place:"",ammount_Balance:"updated_balance",place_id:"",last_collected:"",last_collected_date:""}]),j=Object(v.a)(d,2),m=j[0],h=j[1],b=Object(a.useState)(""),p=Object(v.a)(b,2),O=p[0],g=p[1],w=Object(a.useState)(""),N=Object(v.a)(w,2),_=(N[0],N[1],Object(a.useRef)([])),S=Object(a.useState)(!1),k=Object(v.a)(S,2),C=k[0],I=k[1],D=Object(a.useState)(!1),A=Object(v.a)(D,2),E=A[0],L=A[1],B=function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t.target.value);case 2:localStorage.setItem("date",t.target.value);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(e){c(e.target.value)},T=function(){var e=Object(i.a)(l.a.mark((function e(t,a,c){var r,s,o,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key){e.next=19;break}if(a.last_collected_date===localStorage.getItem("date")){e.next=19;break}return r=parseInt(a.ammount_Balance)-parseInt(n),s={name:a.name,loanammount:a.loanammount,loan_date:a.loan_date,loanInterst:a.loanInterst,ms:a.ms,place:a.place,ammount_Balance:r,place_id:a.place_id,last_collected:n,last_collected_date:localStorage.getItem("date")},o={date:O,costumer_id:a.id,costumer_name:a.name,ammount:parseInt(n)},e.next=8,x.a.post(Oe,o).then((function(e){"failed"===e.data||x.a.post("".concat("updatecostumer/").concat(a.id,"/"),s).then((function(e){}),(function(e){console.log("error put",c)}))}),(function(e){console.log(e,"error")}));case 8:return e.next=10,c;case 10:return e.t0=e.sent,i=e.t0+1,e.next=14,_.current[i];case 14:if(e.t1=e.sent,!e.t1){e.next=17;break}_.current[i].focus();case 17:e.next=19;break;case 19:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),R=function(){var e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.c.loading("Data Loading...",{className:"bg-dark"}),e.next=3,x.a.get(fe).then((function(e){h(e.data),f.c.update(t,{render:"Data Loaded Successfully",type:"success",isLoading:!1,autoClose:1e3,className:"bg-dark text-white",closeOnClick:!0})}),(function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(i.a)(l.a.mark((function e(){var t,n,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Date,n=t.getMonth(),a=t.getDate(),n<10&&(n="0"+(n=parseInt(n)+1)),a<10&&(a="0"+(a=parseInt(a))),c=t.getFullYear()+"-"+n+"-"+a,e.next=8,g(c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){localStorage.setItem("date",O)}),[O]);Object(a.useEffect)((function(){R(),M()}),[]);var z=function(){var e=Object(i.a)(l.a.mark((function e(t,n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t.target.value);case 2:return e.next=4,t.target.select();case 4:return e.next=6,u(a);case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),U=function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sessionStorage.setItem("getcollection",t);case 2:return e.next=4,L(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function H(e){var t=new Date,n=new Date(Number(e));return n.setDate(e.getDate()+100),t>new Date(n)}var V=function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sessionStorage.setItem("costumer__id",t);case 2:return e.next=4,I(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("id"!==t){e.next=5;break}return e.next=3,sessionStorage.setItem("sort","id");case 3:e.next=12;break;case 5:if("place"!==t){e.next=10;break}return e.next=8,sessionStorage.setItem("sort","place");case 8:e.next=12;break;case 10:return e.next=12,sessionStorage.setItem("sort","nip");case 12:window.location.reload();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=m.sort((function(e,t){return e.id<t.id?-1:e.id>t.id?1:0})).map((function(e,t){var n=H(new Date(e.loan_date));return Object(y.jsxs)("tr",{style:o===t?{backgroundColor:"#cddc39",color:"black"}:{backgroundColor:"white"},children:[Object(y.jsx)("td",{children:Object(y.jsx)("p",{children:e.id})}),Object(y.jsx)("td",{children:Object(y.jsx)("p",{className:"btn",onClick:function(){return U(e.id)},style:o===t?{backgroundColor:"#cddc39",color:"black"}:!1===n?{backgroundColor:"white",color:"blue"}:{backgroundColor:"white",color:"red"},children:e.name})}),Object(y.jsx)("td",{children:Object(y.jsx)("p",{children:e.place.length<15?e.place:e.place.slice(0,8)+"..."})}),Object(y.jsx)("td",{children:Object(y.jsx)("p",{children:e.loan_date})}),Object(y.jsx)("td",{children:Object(y.jsx)("p",{children:e.loanammount})}),Object(y.jsx)("td",{children:Object(y.jsx)("p",{children:e.ammount_Balance})}),Object(y.jsx)("td",{children:Object(y.jsx)(F.a,{label:"Ammount",inputProps:{onKeyPress:function(n){return T(n,e,t)}},onChange:P,inputRef:function(e){return _.current[t]=e},onFocus:function(n){return z(n,e.id,t)},color:"secondary",variant:"filled",defaultValue:e.loanammount/100})}),Object(y.jsx)("td",{className:"p-3",children:Object(y.jsx)("p",{className:"btn btn-outline-dark",onClick:function(){V(e.id)},children:Object(y.jsx)("i",{class:"bi bi-credit-card-2-front-fill"})})})]},t)})),G=m.sort((function(e,t){return e.id<t.id?-1:e.id>t.id?1:0})).sort((function(e,t){return e.loan_date>t.loan_date?-1:e.loan_date<t.loan_date?1:0})).sort((function(e,t){return e.place_id<t.place_id?-1:e.place_id>t.place_id?1:0})).map((function(e,t){var n=H(new Date(e.loan_date));return Object(y.jsxs)("tr",{style:o===t?{backgroundColor:"#cddc39",color:"black"}:{backgroundColor:"white"},children:[Object(y.jsx)("td",{children:Object(y.jsx)("p",{children:e.id})}),Object(y.jsx)("td",{children:Object(y.jsx)("p",{style:o===t?{backgroundColor:"#cddc39",color:"black"}:!1===n?{backgroundColor:"white",color:"blue"}:{backgroundColor:"white",color:"red"},"data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:"click to view collection history",className:"btn",onClick:function(){return U(e.id)},children:e.name})}),Object(y.jsx)("td",{children:Object(y.jsx)("p",{children:e.place.length<15?e.place:e.place.slice(0,8)+"..."})}),Object(y.jsx)("td",{children:Object(y.jsx)("p",{children:e.loan_date})}),Object(y.jsx)("td",{children:Object(y.jsx)("p",{children:e.loanammount})}),Object(y.jsx)("td",{children:Object(y.jsx)("p",{children:e.ammount_Balance})}),Object(y.jsx)("td",{children:Object(y.jsx)("input",{onKeyPress:function(n){return T(n,e,t)},onChange:P,ref:function(e){return _.current[t]=e},onFocus:function(n){return z(n,e.id,t)},defaultValue:e.last_collected_date===localStorage.getItem("date")?e.last_collected:e.loanammount/100,style:{backgroundColor:e.last_collected_date===localStorage.getItem("date")?"#0D6EFD":"transparent",color:e.last_collected_date===localStorage.getItem("date")?"white":"black",height:"100%",padding:15},className:"rounded shadow-sm ",type:"text"})}),Object(y.jsx)("td",{className:"p-3",children:Object(y.jsx)("p",{className:"btn btn-outline-dark",onClick:function(){V(e.id)},children:Object(y.jsx)("i",{class:"bi bi-credit-card-2-front-fill"})})})]},t)})),W=m.sort((function(e,t){return e.id<t.id?-1:e.id>t.id?1:0})).sort((function(e,t){return e.loan_date<t.loan_date?-1:e.loan_date>t.loan_date?1:0})).sort((function(e,t){return e.place_id<t.place_id?-1:e.place_id>t.place_id?1:0})).map((function(e,t){var n=H(new Date(e.loan_date));return Object(y.jsxs)("tr",{style:o===t?{backgroundColor:"#cddc39",color:"black"}:{backgroundColor:"white"},children:[Object(y.jsx)("td",{children:Object(y.jsx)("p",{children:e.id})}),Object(y.jsx)("td",{children:Object(y.jsx)("p",{style:o===t?{backgroundColor:"#cddc39",color:"black"}:!1===n?{backgroundColor:"white",color:"blue"}:{backgroundColor:"white",color:"red"},className:"btn","data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:"click to view collection history",onClick:function(){return U(e.id)},children:e.name})}),Object(y.jsx)("td",{children:Object(y.jsx)("p",{children:e.place.length<15?e.place:e.place.slice(0,8)+"..."})}),Object(y.jsx)("td",{children:Object(y.jsx)("p",{children:e.loan_date})}),Object(y.jsx)("td",{children:Object(y.jsx)("p",{children:e.loanammount})}),Object(y.jsx)("td",{children:Object(y.jsx)("p",{children:e.ammount_Balance})}),Object(y.jsx)("td",{children:Object(y.jsx)("input",{onKeyPress:function(n){return T(n,e,t)},onChange:P,ref:function(e){return _.current[t]=e},onFocus:function(n){return z(n,e.id,t)},defaultValue:e.last_collected_date===localStorage.getItem("date")?e.last_collected:e.loanammount/100,style:{backgroundColor:e.last_collected_date===localStorage.getItem("date")?"#0D6EFD":"transparent",color:e.last_collected_date===localStorage.getItem("date")?"white":"black",height:"100%",padding:15},className:"rounded shadow-sm ",type:"text"})}),Object(y.jsx)("td",{className:"p-3",children:Object(y.jsx)("p",{className:"btn btn-outline-dark",onClick:function(){V(e.id)},children:Object(y.jsx)("i",{class:"bi bi-credit-card-2-front-fill"})})})]},t)}));return Object(y.jsxs)("div",{className:"addCollection_",children:[!0===E?Object(y.jsxs)("div",{className:"gap-3 bg-light border p-3",style:{zIndex:100,position:"absolute",top:2,right:2},children:[Object(y.jsx)("button",{className:"btn btn-outline",style:{margin:"10px",backgroundColor:"#FD7E14",color:"white",fontWeight:"bold"},onClick:function(){L(!1)},children:"X"}),Object(y.jsx)(pe,{})]}):null,!0===C?Object(y.jsxs)("div",{className:"position-fixed h-100 w-100 gap-3 bg-light border p-3",style:{zIndex:100},children:[Object(y.jsx)("button",{className:"btn btn-primary",style:{marginTop:"10px"},onClick:function(){sessionStorage.removeItem("costumer__id"),I(!1)},children:"Close"}),Object(y.jsx)(he,{hide:function(){I(!1)}})]}):null,Object(y.jsx)("div",{className:"d-flex gap-5",children:Object(y.jsx)(F.a,{type:"date",name:"collection date",onChange:B,InputLabelProps:{shrink:!0},value:O})}),Object(y.jsx)("div",{children:Object(y.jsx)("div",{className:"table-wrapper-scroll-y my-custom-scrollbar  p-2",style:{marginTop:10},children:Object(y.jsxs)("table",{className:"table table-bordered",style:{marginTop:30},children:[Object(y.jsx)("thead",{className:"thead-dark",children:Object(y.jsxs)("tr",{className:"p-3",children:[Object(y.jsx)("th",{children:"Id"}),Object(y.jsxs)("th",{children:["Name"," ",Object(y.jsx)("span",{style:{float:"right",position:"sticky",cursor:"pointer"},onClick:function(){return Y("id")},children:Object(y.jsx)("h5",{className:"bi bi-sort-down align-right"})})]}),Object(y.jsxs)("th",{children:["Place"," ",Object(y.jsx)("span",{style:{float:"right",position:"sticky",cursor:"pointer"},onClick:function(){return Y("place")},children:Object(y.jsx)("h5",{className:"bi bi-sort-down align-right"})})]}),Object(y.jsxs)("th",{children:["Loan Date"," ",Object(y.jsx)("button",{style:{float:"right",position:"sticky",cursor:"pointer"},onClick:function(){return Y("nip")},className:"bi bi-sort-down align-right btn"})]}),Object(y.jsx)("th",{children:"Loan"}),Object(y.jsx)("th",{children:"Balance"}),Object(y.jsx)("th",{children:"Ammount"}),Object(y.jsx)("th",{})]})}),Object(y.jsxs)("tbody",{children:[Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{}),Object(y.jsx)("td",{}),Object(y.jsx)("td",{}),Object(y.jsx)("td",{}),Object(y.jsx)("td",{})]}),"id"===sessionStorage.getItem("sort")?K:"nip"===sessionStorage.getItem("sort")?W:G]})]})})})]})}n(201),n(202);function ve(){var e=Object(a.useState)(""),t=Object(v.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(v.a)(r,2),o=s[0],u=s[1],d=Object(a.useState)(!0),j=Object(v.a)(d,2),m=j[0],h=j[1],b=Object(a.useState)(""),p=Object(v.a)(b,2),f=p[0],O=p[1],g=function(){var e=Object(i.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""===n||""===o||""===f){e.next=12;break}return a={username:n,password:o,email_address:f},e.next=5,x.a.post("auth/createuser",a).then((function(e){return alert("User Created Successfully login with the user again to verify")}),(function(e){return console.log(e,"error occured")}));case 5:return e.next=7,sessionStorage.removeItem("login");case 7:return e.next=9,sessionStorage.removeItem("access_token");case 9:window.location.reload(),e.next=13;break;case 12:alert("Empty user cannot be created ");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)("form",{onSubmit:g,className:"d-flex flex-column  gap-3 mb-1 w-75 align-middle",children:[Object(y.jsx)("h4",{children:"Create New User"}),Object(y.jsx)("input",{type:"text",onChange:function(e){return c(e.target.value)},placeholder:"User Name",className:"form-control"}),Object(y.jsx)("input",{type:"email",onChange:function(e){return O(e.target.value)},placeholder:"User Email Id",className:"form-control"}),Object(y.jsxs)("div",{className:"d-flex gap-1 align-middle form-control justify-content-center",children:[Object(y.jsx)("input",{type:m?"password":"text",onChange:function(e){return u(e.target.value)},placeholder:"User Login Password",className:"password-input"}),m?Object(y.jsx)("i",{onClick:function(){h(!m)},className:"bi bi-eye-fill h5"}):Object(y.jsx)("i",{onClick:function(){h(!m)},className:"bi bi-eye-slash-fill h5"})]}),Object(y.jsx)("input",{value:"Save User",className:"btn btn-outline-primary",type:"submit"})]})}var ye=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).setCompany=function(){localStorage.setItem("company",a.state.company),localStorage.setItem("email",a.state.email),window.location.reload()},a.state={company:"Abipravi",email:""},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("company");this.setState({company:e})}},{key:"render",value:function(){var e=this;return Object(y.jsxs)("div",{className:"d-flex flex-row justify-content-around",children:[Object(y.jsxs)("div",{className:"d-flex flex-column",children:[Object(y.jsxs)("div",{Name:"d-flex flex-column gap-3 w-50 flex-wrap",children:[Object(y.jsx)("input",{type:"text",onChange:function(t){return e.setState({company:t.target.value})},className:"form-control mt-3",placeholder:"Enter Company Name"}),Object(y.jsx)("input",{type:"text",onChange:function(t){return e.setState({email:t.target.value})},className:"form-control mt-3",placeholder:"Enter Company Email"}),Object(y.jsx)("button",{onClick:this.setCompany,className:"btn btn-primary w-20 m-3",children:"Save Company"})]}),Object(y.jsxs)("div",{className:"mt-4",children:[Object(y.jsxs)("h5",{children:["Company Name: ",this.state.company]}),Object(y.jsx)("h5",{children:"Software Version: 2.3.0"}),Object(y.jsx)("br",{}),Object(y.jsx)("a",{className:"btn btn-primary",href:"/addPlace",children:"Add Place"})]})]}),"admin"===sessionStorage.getItem("login")?Object(y.jsx)("div",{style:{padding:20},className:"w-50 d-flex justify-content-center shadow-sm",children:Object(y.jsx)(ve,{})}):Object(y.jsx)("p",{className:"btn btn-dark h-25",children:"You not admin to create new user account"})]})}}]),n}(a.Component),we=(n(203),n(204),sessionStorage.getItem("access_token")),Ne="getcostumer/".concat(we,"/"),_e="createoai",Se="createoao",ke=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).loadData=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.c.loading("Data Loading...",{className:"bg-dark"}),e.next=3,a.get_Loan_Total();case 3:return e.next=5,a.get_Loan_Intrest();case 5:return e.next=7,a.get_Loan_MS();case 7:f.c.update(t,{render:"Data Loaded Successfully",type:"success",isLoading:!1,autoClose:5e3,className:"bg-dark text-white",closeOnClick:!0});case 8:case"end":return e.stop()}}),e)}))),a.get_Loan_Total=Object(i.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.next=3,x.a.get(Ne).then((function(e){t=e.data.filter((function(e){return e.loan_date.includes(a.props.date)}))}));case 3:return e.next=5,t.map((function(e){return n=parseInt(n)+parseInt(e.loanammount)}));case 5:return e.next=7,a.setState({loanTotal:n});case 7:localStorage.setItem("loan",n);case 8:case"end":return e.stop()}}),e)}))),a.get_Loan_Intrest=Object(i.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.next=3,x.a.get(Ne).then((function(e){t=e.data.filter((function(e){return e.loan_date.includes(a.props.date)}))}));case 3:return e.next=5,t.map((function(e){return n=parseInt(n)+parseInt(e.loanInterst)}));case 5:return e.next=7,a.setState({loanIntrestTotal:n});case 7:localStorage.setItem("interst",n);case 8:case"end":return e.stop()}}),e)}))),a.changeOption=function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({entryName:t.target.value});case 2:"\u0bb2\u0bc8\u0ba9\u0bcd \u0b85\u0ba4\u0bbf\u0b95\u0bae\u0bcd"!==a.state.entryName&&a.setNameField(),a.inref.current&&a.inref.current.focus();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.changeOption1=function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({entryName1:t.target.value});case 2:"\u0bb2\u0bc8\u0ba9\u0bcd \u0b95\u0bc1\u0bb1\u0bc8\u0bb5\u0bc1"!==a.state.entryName1&&a.setNameField1(),a.outref.current&&a.outref.current.focus();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.get_Loan_MS=Object(i.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.next=3,x.a.get(Ne).then((function(e){t=e.data.filter((function(e){return e.loan_date.includes(a.props.date)}))}));case 3:return e.next=5,t.map((function(e){return n=parseInt(n)+parseInt(e.ms)}));case 5:return e.next=7,a.setState({MStotal:n});case 7:localStorage.setItem("ms",n);case 8:case"end":return e.stop()}}),e)}))),a.postEntryin=function(){var e=Object(i.a)(l.a.mark((function e(t){var n,c,r,s,o,i,u,d,j,m;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=a.props.date,c=a.state,r=c.entryName,s=c.entryAmmount,o=c.lineup,"\u0b85\u0b9f\u0bcd\u0b9f\u0bc8 \u0b85\u0ba4\u0bbf\u0b95\u0bae\u0bcd"===r?(i={date:n,costumername:o,ammount:s},x.a.post("createcloseup",i)):"\u0bb2\u0bc8\u0ba9\u0bcd \u0b85\u0ba4\u0bbf\u0b95\u0bae\u0bcd"===r?(u={date:n,reason:r,ammount:s},x.a.post("".concat(_e),u)):"\u0b87\u0bb0\u0bc1\u0baa\u0bcd\u0baa\u0bc1 \u0b9a\u0bc7\u0bb0\u0bcd"===r?(d={date:n,reason:"Add Ammount",ammount:s},x.a.post("".concat(_e),d)):"\u0b87\u0ba4\u0bb0 \u0bb5\u0bb0\u0bb5\u0bc1 / \u0bb5\u0b9f\u0bcd\u0b9f\u0bbf \u0bb5\u0bbe\u0b99\u0bcd\u0b95\u0bbf\u0baf\u0ba4\u0bc1"===r?(j={date:n,reason:o,ammount:s},x.a.post("".concat(_e),j)):"\u0bae\u0bc1\u0ba4\u0bb2\u0bc0\u0b9f\u0bc1 \u0bb5\u0bb0\u0bb5\u0bc1"===r&&(m={date:n,name:o,ammount:s},x.a.post("".concat("createinversment"),m)),a.setState({loneCloseCostumername:"",entryAmmount:"",reason:""}),window.location.reload();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.postEntryout=function(){var e=Object(i.a)(l.a.mark((function e(t){var n,c,r,s,o,i,u,d,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=a.props.date,c=a.state,r=c.entryName1,s=c.entryAmmount,o=c.linedown,"\u0b85\u0b9f\u0bcd\u0b9f\u0bc8 \u0b95\u0bc1\u0bb1\u0bc8\u0bb5\u0bc1"===r?(i={date:n,costumername:o,ammount:s},x.a.post("createclosedown",i)):"\u0bb2\u0bc8\u0ba9\u0bcd \u0b95\u0bc1\u0bb1\u0bc8\u0bb5\u0bc1"===r?(u={date:n,reason:r,ammount:s},x.a.post("".concat(Se),u)):"\u0b9a\u0bae\u0bcd\u0baa\u0bb3\u0bae\u0bcd / \u0b95\u0bb5\u0bb0\u0bcd \u0b8e\u0b9f\u0bc1\u0baa\u0bcd\u0baa\u0bc1"===r?(d={date:n,reason:o,ammount:s},x.a.post("".concat("createothers"),d)):"\u0b87\u0ba4\u0bb0 \u0b9a\u0bc6\u0bb2\u0bb5\u0bc1"===r&&(j={date:n,reason:o,ammount:s},x.a.post("".concat(Se),j)),a.setState({linedown:"",entryAmmount:"",reason:""}),window.location.reload();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.setNameField=function(){a.setState({showField:!0})},a.setNameField1=function(){a.setState({showField1:!0})},a.state={loanTotal:0,loanIntrestTotal:0,MStotal:0,entryName:"",entryName1:"",entryAmmount:"",showField:!1,showField1:!1,closeCostumerName:[],lineup:"",linedown:""},a.inref=c.a.createRef(),a.outref=c.a.createRef(),a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this;return Object(y.jsx)("div",{className:"plan__",children:Object(y.jsxs)("div",{className:"plan__leftarea",children:[Object(y.jsxs)("div",{className:"d-flex gap-3",children:["admin"===sessionStorage.getItem("login")&&Object(y.jsx)("button",{onClick:this.loadData,className:"btn btn-primary",children:"Reload Data"}),Object(y.jsx)(h.c,{to:"/editPlanCalc",className:"btn btn-primary","data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:"\u0ba4\u0bbf\u0b9f\u0bcd\u0b9f\u0bae\u0bcd \u0baa\u0bbe\u0bb0\u0bcd\u0b95\u0bcd\u0b95",children:"Today's Data"})]}),Object(y.jsxs)("div",{className:"plan__area",children:[Object(y.jsxs)("div",{className:"plan__area__items",children:["Total Loan: ",Object(y.jsx)("h5",{children:this.state.loanTotal})]}),Object(y.jsxs)("div",{className:"plan__area__items",children:["Loan Intrest: ",Object(y.jsx)("h5",{children:this.state.loanIntrestTotal})]}),Object(y.jsxs)("div",{className:"plan__area__items",children:["Loan MS: ",Object(y.jsx)("h5",{children:this.state.MStotal})]})]}),Object(y.jsxs)("div",{className:"d-flex gap-2 w-100",children:[Object(y.jsxs)("form",{className:"d-flex flex-column gap-3",children:[Object(y.jsxs)("select",{name:"inputMaster",className:"form-control","data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:"\u0baa\u0bb1\u0bcd\u0bb1\u0bc1 \u0bb5\u0bb0\u0bb5\u0bc1",onChange:this.changeOption,children:[Object(y.jsx)("option",{children:"Ammount In"}),Object(y.jsx)("option",{children:"\u0b85\u0b9f\u0bcd\u0b9f\u0bc8 \u0b85\u0ba4\u0bbf\u0b95\u0bae\u0bcd"}),Object(y.jsx)("option",{children:"\u0bb2\u0bc8\u0ba9\u0bcd \u0b85\u0ba4\u0bbf\u0b95\u0bae\u0bcd"}),Object(y.jsx)("option",{children:"\u0bae\u0bc1\u0ba4\u0bb2\u0bc0\u0b9f\u0bc1 \u0bb5\u0bb0\u0bb5\u0bc1"}),Object(y.jsx)("option",{children:"\u0b87\u0ba4\u0bb0 \u0bb5\u0bb0\u0bb5\u0bc1 / \u0bb5\u0b9f\u0bcd\u0b9f\u0bbf \u0bb5\u0bbe\u0b99\u0bcd\u0b95\u0bbf\u0baf\u0ba4\u0bc1"}),Object(y.jsx)("option",{children:"\u0b87\u0bb0\u0bc1\u0baa\u0bcd\u0baa\u0bc1 \u0b9a\u0bc7\u0bb0\u0bcd"})]}),this.state.showField?Object(y.jsx)("div",{children:Object(y.jsx)("input",{type:"text",placeholder:"Enter  Name",onChange:function(t){return e.setState({lineup:t.target.value})},ref:this.inref,className:"form-control",value:this.state.lineup})}):Object(y.jsx)("br",{}),Object(y.jsx)("input",{type:"text",onChange:function(t){return e.setState({entryAmmount:t.target.value})},placeholder:"Enter Ammount",className:"form-control",value:this.state.entryAmmount}),Object(y.jsx)("br",{}),Object(y.jsx)("button",{className:"btn btn-outline-primary",onClick:this.postEntryin,children:"Add"})]}),Object(y.jsxs)("form",{className:"d-flex flex-column gap-3",children:[Object(y.jsxs)("select",{name:"inputMaster","data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:"\u0baa\u0bb1\u0bcd\u0bb1\u0bc1 \u0b9a\u0bc6\u0bb2\u0bb5\u0bc1",className:"form-control",onChange:this.changeOption1,children:[Object(y.jsx)("option",{children:"Ammount Out"}),Object(y.jsx)("option",{children:"\u0b85\u0b9f\u0bcd\u0b9f\u0bc8 \u0b95\u0bc1\u0bb1\u0bc8\u0bb5\u0bc1"}),Object(y.jsx)("option",{children:"\u0bb2\u0bc8\u0ba9\u0bcd \u0b95\u0bc1\u0bb1\u0bc8\u0bb5\u0bc1"}),Object(y.jsx)("option",{children:"\u0b9a\u0bae\u0bcd\u0baa\u0bb3\u0bae\u0bcd / \u0b95\u0bb5\u0bb0\u0bcd \u0b8e\u0b9f\u0bc1\u0baa\u0bcd\u0baa\u0bc1"}),Object(y.jsx)("option",{children:"\u0b87\u0ba4\u0bb0 \u0b9a\u0bc6\u0bb2\u0bb5\u0bc1"})]}),this.state.showField1?Object(y.jsx)("div",{children:Object(y.jsx)("input",{type:"text",placeholder:"Enter  Name",onChange:function(t){return e.setState({linedown:t.target.value})},ref:this.outref,className:"form-control",value:this.state.linedown})}):Object(y.jsx)("br",{}),Object(y.jsx)("input",{type:"text",onChange:function(t){return e.setState({entryAmmount:t.target.value})},className:"form-control",placeholder:"Enter Ammount",value:this.state.entryAmmount}),Object(y.jsx)("br",{}),Object(y.jsx)("button",{className:"btn btn-outline-primary",onClick:this.postEntryout,children:"Add"})]})]})]})})}}]),n}(c.a.Component),Ce="getexpence/",Ie=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).setDate=function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({date1:t.target.value,dailyExpence:Object(T.a)(Object(T.a)({},a.state.dailyExpence),{},{date:t.target.value})});case 2:return e.next=4,localStorage.setItem("date",a.state.date1);case 4:return a.calculateExpancetotal(),a.getDlammount(),e.next=8,localStorage.setItem("dl",a.state.dlammount);case 8:window.location.reload();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.callfunction=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({date1:localStorage.getItem("date")});case 2:return e.next=4,a.calculateExpancetotal();case 4:return e.next=6,a.getDlammount();case 6:case"end":return e.stop()}}),e)}))),a.clearData=function(){a.setState({dailyExpence:{date:a.state.date1,expenceName:"",expenceAmmount:""}})},a.submitExpence=function(){x.a.post(Ce,a.state.dailyExpence),a.clearData()},a.calculateExpancetotal=Object(i.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.next=3,x.a.get(Ce).then((function(e){t=e.data.filter((function(e){return e.date.includes(a.state.date1)}))}));case 3:return e.next=5,t.map((function(e){return n=parseInt(e.expenceAmmount)+parseInt(n)}));case 5:a.setState({expenceTotal:n}),localStorage.setItem("expence",n);case 7:case"end":return e.stop()}}),e)}))),a.addExpenceTotal=Object(i.a)(l.a.mark((function e(){var t,n,c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.date1,e.next=3,x.a.get("getexpencetotal/").then((function(e){n=e.data.filter((function(e){return e.date.includes(a.state.date1)}))}));case 3:return e.next=5,n.map((function(e){return c=e.id}));case 5:return r={date:t,ammount:a.state.expenceTotal},e.next=8,console.log(n.length);case 8:1===n.length?(console.log(r),x.a.post("".concat("updateexpencetotal/").concat(c,"/"),r)):(console.log(r),x.a.post("createexpencetotal/",r).then((function(e){console.log(e)}))),a.calculateExpancetotal(),f.c.success("Expence Updated successfully...");case 11:case"end":return e.stop()}}),e)}))),a.getDlammount=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("getdl/").then((function(e){return t=e.data.filter((function(e){return e.date.includes(localStorage.getItem("date"))}))}));case 2:return console.log(t),e.next=5,t.map((function(e){return a.setState({dlammount:e.ammount})}));case 5:return e.next=7,localStorage.setItem("dl",a.state.dlammount);case 7:case"end":return e.stop()}}),e)}))),a.state={date1:"",dailyExpence:{date:"",expenceName:"",expenceAmmount:""},expenceTotal:"",dlammount:""},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.callfunction()}},{key:"render",value:function(){return Object(y.jsxs)("div",{className:"",children:[Object(y.jsxs)("div",{className:"d-flex flex-row gap-2 w-50",children:[Object(y.jsx)("h4",{children:"Date:"}),Object(y.jsx)("input",{type:"date",className:"form-control w-25",onChange:this.setDate,style:{marginLeft:"10px"},defaultValue:localStorage.getItem("date")})]}),Object(y.jsxs)("div",{className:"d-flex flex-row gap-3 justify-content-evenly",children:[Object(y.jsxs)("div",{className:"d-flex flex-column gap-3",children:[Object(y.jsxs)("div",{className:"d-flex flex-column gap-3 mt-5",children:[Object(y.jsx)(h.b,{className:"btn btn-outline-danger",to:"/addexpence",children:"\u0b9a\u0bc6\u0bb2\u0bb5\u0bc1 \u0b9a\u0bc7\u0bb0\u0bcd"}),Object(y.jsx)("button",{className:"btn btn-outline-danger",onClick:this.addExpenceTotal,children:"\u0b9a\u0bc6\u0bb2\u0bb5\u0bc1 \u0baa\u0ba4\u0bbf\u0bb5\u0bc1 \u0b9a\u0bc7\u0bb0\u0bcd \u2705\u2705"})]}),Object(y.jsxs)("div",{className:"d-flex flex-column gap-3 text-success mt-3",children:[Object(y.jsxs)("h5",{children:["DL \u0bb5\u0bb0\u0bb5\u0bc1: ",this.state.dlammount]}),Object(y.jsxs)("h5",{children:["\u0bb2\u0bc8\u0ba9\u0bcd \u0b9a\u0bc6\u0bb2\u0bb5\u0bc1: ",this.state.expenceTotal]})]})]}),Object(y.jsx)("div",{className:"reports__plan",children:Object(y.jsx)(ke,{date:this.state.date1,dl:this.state.dlammount,epa:this.state.expenceTotal})})]})]})}}]),n}(a.Component),De=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).submitExpence=function(e){e.preventDefault();var t={date:a.state.date1,expenceName:a.state.expenceName,expenceAmmount:a.state.expenceAmmount};x.a.post("createexpence/",t),a.getExpenceData(),f.c.success("Expence Added successfully"),a.clearData()},a.clearData=function(){a.setState({expenceName:"",expenceAmmount:""})},a.setval=function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({expenceAmmount:t.target.value});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.getExpenceData=Object(i.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("getexpence/");case 2:return n=e.sent,e.next=5,n.data.filter((function(e){return e.date.includes(localStorage.getItem("date"))}));case 5:return t=e.sent,e.next=8,a.setState({expenceData:t});case 8:case"end":return e.stop()}}),e)}))),a.deleteExpencedata=function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.delete("".concat("deleteexpence/").concat(t));case 2:f.c.error("Successfully Deleted Expence"),a.getExpenceData();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={date1:localStorage.getItem("date"),expenceName:"",expenceAmmount:"",expenceData:[]},a.inputref=c.a.createRef(),a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.setState({dailyExpence:Object(T.a)(Object(T.a)({},this.state.dailyExpence),{},{date:this.state.date1})}),this.getExpenceData()}},{key:"render",value:function(){var e=this;return Object(y.jsxs)("div",{className:"d-flex flex-row gap-3 justify-content-evenly mt-5",children:[Object(y.jsxs)("div",{className:"d-flex flex-column align-left",children:[Object(y.jsx)("a",{className:"w-25 link-button",href:"/reports",children:"Back"}),Object(y.jsxs)("h3",{className:"rounded-xl mt-3",children:["Date : ",this.state.date1]}),Object(y.jsxs)("form",{style:{display:"flex",flexDirection:"column",height:"200px",justifyContent:"space-evenly"},children:["Expence Name:"," ",Object(y.jsxs)("select",{className:"form-select",onChange:function(t){e.setState({expenceName:t.target.value}),e.inputref.current.focus()},children:[Object(y.jsx)("option",{children:"Expense"}),Object(y.jsx)("option",{children:"\u0b9f\u0bc0 "}),Object(y.jsx)("option",{children:"\u0b9a\u0bbe\u0baa\u0bcd\u0baa\u0bbe\u0b9f\u0bc1"}),Object(y.jsx)("option",{children:"\u0baa\u0bc6\u0b9f\u0bcd\u0bb0\u0bcb\u0bb2\u0bcd"}),Object(y.jsx)("option",{children:"\u0bb8\u0bcd\u0ba8\u0bbe\u0b95\u0bcd\u0bb8\u0bcd"}),Object(y.jsx)("option",{children:"\u0bae\u0bc6\u0b9f\u0bbf\u0b95\u0bcd\u0b95\u0bb2\u0bcd"}),Object(y.jsx)("option",{children:"\u0bb5\u0ba3\u0bcd\u0b9f\u0bbf"}),Object(y.jsx)("option",{children:"\u0bb5\u0ba3\u0bcd\u0b9f\u0bbf \u0b86\u0baf\u0bbf\u0bb2\u0bcd \u0b9a\u0bc7\u0b9e\u0bcd\u0b9a\u0bcd"}),Object(y.jsx)("option",{children:"\u0bb5\u0ba3\u0bcd\u0b9f\u0bbf \u0b9f\u0bc8\u0baf\u0bb0\u0bcd"}),Object(y.jsx)("option",{children:"\u0b95\u0bcb\u0bb5\u0bbf\u0bb2\u0bcd"}),Object(y.jsx)("option",{children:"\u0bae\u0bb1\u0bcd\u0bb1\u0bb5\u0bc8"})]}),Object(y.jsx)("input",{type:"text",className:"form-control",placeholder:"Ammount",onChange:this.setval,ref:this.inputref,value:this.state.expenceAmmount}),Object(y.jsx)("button",{className:"btn btn-primary",onClick:this.submitExpence,type:"submit",children:"Add Expence \ud83d\udcbe"})]})]}),Object(y.jsx)("div",{children:Object(y.jsxs)("table",{className:"table table-striped table-bordered",children:[Object(y.jsx)("thead",{className:"th-dark",children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Expence Name"}),Object(y.jsx)("th",{children:"Ammount"}),Object(y.jsx)("th",{children:"Delete"})]})}),Object(y.jsx)("tbody",{children:this.state.expenceData.map((function(t){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:t.expenceName}),Object(y.jsx)("td",{children:t.expenceAmmount}),Object(y.jsx)("td",{children:Object(y.jsx)("button",{className:"btn btn-danger",onClick:function(){return e.deleteExpencedata(t.id)},children:"X"})})]})}))})]})})]})}}]),n}(a.Component),Ae=sessionStorage.getItem("access_token");function Ee(e){var t=function(){var t=Object(i.a)(l.a.mark((function t(){var n,a,c,r,s,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=f.c.loading("Mail Sending...",{className:"bg-dark"}),a=e.name,c=e.cash,r=sessionStorage.getItem("cc"),s=e.email,t.next=7,{name:a,email:s,close:r,cash:c};case 7:return o=t.sent,t.next=10,x.a.post("".concat("auth/sendemail/").concat(Ae),o);case 10:f.c.update(n,{render:"Mail sent successfully",type:"success",isLoading:!1,autoClose:5e3,className:"bg-dark text-white",closeOnClick:!0});case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(y.jsx)("button",{onClick:t,className:"btn btn-success",children:"Mail"})}n(205);var Le=sessionStorage.getItem("access_token"),Be="closed/costumer/".concat(Le,"/"),Pe=function(){var e=Object(i.a)(l.a.mark((function e(t){var n,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat("costumerdetail","/").concat(t,"/"));case 2:return n=e.sent,e.next=5,n.data;case 5:return a=e.sent,e.next=8,{costumer_id:t,costumer_name:a.name,place:a.place,loandate:a.loan_date,loanammount:a.loanammount,loanintrest:a.loanInterst,ms:a.ms};case 8:return c=e.sent,e.next=11,x.a.post(Be,c);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=sessionStorage.getItem("access_token"),Re="getcostumer/".concat(Te);function Fe(e){return Object(y.jsx)(K.a,Object(T.a)({elevation:6,variant:"filled"},e))}var Me=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).handleClose=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({open:!1});case 1:case"end":return e.stop()}}),e)}))),a.getAmmounts=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.c.loading("Loading Data..."),e.next=3,a.calculateCashinHand();case 3:return e.next=5,a.calculateInversment();case 5:return e.next=7,a.other_ammount_in();case 7:return e.next=9,a.closeUp();case 9:return e.next=11,a.closeDown();case 11:return e.next=13,a.other_ammount_out();case 13:return e.next=15,a.Others();case 15:return e.next=17,a.setState({dl:localStorage.getItem("dl"),expence:localStorage.getItem("expence"),loan:localStorage.getItem("loan"),intrest:localStorage.getItem("interst"),ms:localStorage.getItem("ms"),date:localStorage.getItem("date")});case 17:return e.next=19,a.ammountsTobe__added();case 19:return e.next=21,a.ammountsTobe__Sub();case 21:return e.next=23,a.calculateAmmountInHand();case 23:return e.next=25,localStorage.setItem("aih",a.state.cashINHand);case 25:f.c.update(t,{render:"Data Loaded Successfully",type:"success",isLoading:!1,autoClose:5e3,className:"bg-dark text-white",closeOnClick:!1});case 26:case"end":return e.stop()}}),e)}))),a.calculateAmmountInHand=Object(i.a)(l.a.mark((function e(){var t,n,c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.AmmountAdd,c=t.AmmountSub,0,r=parseInt(n)-parseInt(c),e.next=5,a.setState({cashINHand1:r});case 5:case"end":return e.stop()}}),e)}))),a.ammountsTobe__added=Object(i.a)(l.a.mark((function e(){var t,n,c,r,s,o,i,u,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.cashInHand,c=t.Inversemet,r=t.other_ammount_in,s=t.dl,o=t.closeUp,i=t.intrest,u=t.ms,0,d=parseInt(n)+parseInt(c)+parseInt(r)+parseInt(s)+parseInt(o)+parseInt(i)+parseInt(u),e.next=5,a.setState({AmmountAdd:d});case 5:case"end":return e.stop()}}),e)}))),a.ammountsTobe__Sub=Object(i.a)(l.a.mark((function e(){var t,n,c,r,s,o,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.expence,c=t.other_ammount_out,r=t.Others,s=t.loan,o=t.closeDown,0,i=parseInt(n)+parseInt(c)+parseInt(r)+parseInt(s)+parseInt(o),e.next=5,a.setState({AmmountSub:i});case 5:case"end":return e.stop()}}),e)}))),a.other_ammount_out=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,e.next=3,x.a.get("".concat("getoao")).then((function(e){e.data.filter((function(e){return e.date.includes(localStorage.getItem("date"))})).map((function(e){return t=parseInt(e.ammount)+parseInt(t)}))}));case 3:return e.next=5,a.setState({other_ammount_out:t});case 5:case"end":return e.stop()}}),e)}))),a.getCostumerData=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat(Re)).then((function(e){t=e.data}));case 2:return e.next=4,t.map((function(e){return"0"===e.ammount_Balance?function(){var t=Object(i.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Pe(e.id);case 2:return t.next=4,x.a.delete("".concat("deletecostumer/").concat(e.id,"/").concat(Te,"/")).then((function(){f.c.error("".concat(e.name," Deleted Successfully"))})).then((function(e){return"error"}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()():"functionexit"}));case 4:case"end":return e.stop()}}),e)}))),a.calculateCashinHand=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x.a.get("getaihlatest").then((function(e){a.setState({cashInHand:e.data.ammount})}));case 1:case"end":return e.stop()}}),e)}))),a.calculateInversment=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,e.next=3,x.a.get("".concat("getinversment")).then((function(e){e.data.filter((function(e){return e.date.includes(localStorage.getItem("date"))})).map((function(e){return t=e.ammount}))}));case 3:return e.next=5,a.setState({Inversemet:t});case 5:case"end":return e.stop()}}),e)}))),a.other_ammount_in=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,e.next=3,x.a.get("".concat("getoai")).then((function(e){e.data.filter((function(e){return e.date.includes(localStorage.getItem("date"))})).map((function(e){return t=parseInt(e.ammount)+parseInt(t)}))}));case 3:return e.next=5,a.setState({other_ammount_in:t});case 5:case"end":return e.stop()}}),e)}))),a.closeUp=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,e.next=3,x.a.get("".concat("getcloseup")).then((function(e){e.data.filter((function(e){return e.date.includes(localStorage.getItem("date"))})).map((function(e){return t=parseInt(e.ammount)+parseInt(t)}))}));case 3:return e.next=5,a.setState({closeUp:t});case 5:case"end":return e.stop()}}),e)}))),a.closeDown=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,e.next=3,x.a.get("".concat("getclosedown")).then((function(e){e.data.filter((function(e){return e.date.includes(localStorage.getItem("date"))})).map((function(e){return t=parseInt(e.ammount)+parseInt(t)}))}));case 3:return e.next=5,a.setState({closeDown:t});case 5:case"end":return e.stop()}}),e)}))),a.Others=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,e.next=3,x.a.get("".concat("getothers")).then((function(e){e.data.filter((function(e){return e.date.includes(localStorage.getItem("date"))})).map((function(e){return t=parseInt(e.ammount)+parseInt(t)}))}));case 3:return e.next=5,a.setState({Others:t});case 5:case"end":return e.stop()}}),e)}))),a.saveData=Object(i.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.cashINHand1,n={date:localStorage.getItem("date"),ammount:t},e.next=4,x.a.post("".concat("createaih"),n).then((function(e){a.setState({open:!0})}));case 4:return e.next=6,a.getCostumerData();case 6:return e.next=8,localStorage.setItem("aih",t);case 8:case"end":return e.stop()}}),e)}))),a.logout=function(){sessionStorage.removeItem("login"),sessionStorage.removeItem("access_token"),window.location.href="/viewcostumers",window.location.reload()},a.state={date:"",cashInHand:"",Inversemet:0,other_ammount_in:0,closeUp:0,dl:0,expence:0,loan:0,intrest:0,ms:0,other_ammount_out:0,closeDown:0,Others:0,AmmountAdd:0,AmmountSub:0,cashINHand1:0,open:!1,confirmModal:null},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.getAmmounts()}},{key:"render",value:function(){var e=this;return Object(y.jsxs)(y.Fragment,{children:[!0===this.state.confirmModal?Object(y.jsx)("div",{style:{position:"absolute",alignItems:"center",right:"50%",height:500,width:500},class:"bg-light p-4 rounded shadow-sm border border-primary d-flex flex-row justify-content-center align-items-center",children:Object(y.jsxs)("div",{class:"d-flex flex-column align-items-end gap-2",children:[Object(y.jsx)("p",{class:"h5 ",children:"Are you sure want to Upload data!"}),Object(y.jsxs)("div",{class:"d-flex gap-3 flex-row",children:[Object(y.jsx)("button",{class:"btn btn-danger",onClick:function(){return e.setState({confirmModal:!1})},children:"No"}),Object(y.jsx)("button",{class:"btn btn-success",onClick:this.saveData,children:"Yes"})]})]})}):null,Object(y.jsxs)("div",{className:"d-flex gap-3",children:[Object(y.jsxs)("div",{className:"d-flex  border p-5 flex-column w-50 gap-3",children:[Object(y.jsxs)("h2",{children:["Cash In Hand: ",this.state.cashINHand1]}),Object(y.jsx)("button",{className:"btn btn-danger",onClick:function(){return e.setState({confirmModal:!0})},children:"Upload Today's Data"}),Object(y.jsx)(Ee,{cash:this.state.cashINHand1,email:localStorage.getItem("email"),name:localStorage.getItem("company")})]}),Object(y.jsx)("div",{children:Object(y.jsx)("table",{className:"table table-striped table-bordered",children:Object(y.jsxs)("thead",{className:"theaddark",children:[Object(y.jsxs)("tr",{className:"text-danger",children:[Object(y.jsx)("th",{children:"Expence:"}),Object(y.jsx)("td",{children:this.state.expence})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Costumer Excess:"}),Object(y.jsx)("td",{children:this.state.closeUp})]}),Object(y.jsxs)("tr",{className:"text-danger",children:[Object(y.jsx)("th",{children:"Costumer Less:"}),Object(y.jsx)("td",{children:this.state.closeDown})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Today's Collection:"}),Object(y.jsx)("td",{children:this.state.dl})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Previous Cash In hand:"}),Object(y.jsx)("td",{children:this.state.cashInHand})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Others Ammount In (Monthly Intrest / Get money from Others):"}),Object(y.jsx)("td",{children:this.state.other_ammount_in})]}),Object(y.jsxs)("tr",{className:"text-danger",children:[Object(y.jsx)("th",{children:"Others Ammount Out (Salary / Return money to Others):"}),Object(y.jsx)("td",{children:this.state.other_ammount_out})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Inversment:"}),Object(y.jsx)("td",{children:this.state.Inversemet})]})]})})})]}),Object(y.jsx)(Y.a,{open:this.state.open,autoHideDuration:6e3,children:Object(y.jsxs)(Fe,{onClose:this.handleClose,severity:"success",children:["Ammount ",this.state.cashINHand1," Updated Successfully to Data Base"]})})]})}}]),n}(a.Component),ze=n(284),Ue=n(286),He=n(102),Ve=n.n(He),Ye="auth/login";function Ke(){var e=Object(a.useState)(""),t=Object(v.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(v.a)(r,2),o=s[0],u=s[1],d=Object(a.useState)(""),j=Object(v.a)(d,2),m=j[0],h=j[1],b=function(){var e=Object(i.a)(l.a.mark((function e(t){var a,c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,localStorage.setItem("company",n);case 3:return c={username:o,password:m},e.next=6,x.a.post(Ye,c).then((function(e){a=e.data}));case 6:return e.next=8,sessionStorage.setItem("login",o);case 8:return r=a.authKey,e.next=11,sessionStorage.setItem("access_token",r);case 11:if(console.log(r),null!==r&&void 0!==r){e.next=16;break}f.c.error("Invalid User information"),e.next=21;break;case 16:return e.next=18,f.c.success("Login success, Please while we redirect you to dashboard");case 18:return e.next=20,f.c.warning("Redirecting to dashboard do not close or reload the browser");case 20:window.location.href="/addCollection";case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){c(localStorage.getItem("company"))}),[]);return Object(y.jsx)("div",{className:Ve.a.loginContainer,children:Object(y.jsxs)("form",{className:Ve.a.loginForm,children:[Object(y.jsx)(ze.a,{id:"outlined-basic",label:"Company Name",variant:"filled",color:"success",defaultValue:localStorage.getItem("company"),size:"small",onChange:function(e){return c(e.target.value)}}),Object(y.jsx)(ze.a,{id:"outlined-basic",label:"User Name",variant:"outlined",color:"success",size:"small",onChange:function(e){return u(e.target.value)}}),Object(y.jsx)(ze.a,{type:"password",id:"outlined-basic",color:"success",label:"Password",variant:"outlined",size:"small",onChange:function(e){return h(e.target.value)}}),Object(y.jsx)(Ue.a,{variant:"contained",color:"success",onClick:b,children:"Login"})]})})}var Ge=n(103),We=sessionStorage.getItem("access_token"),Je="getcostumer/".concat(We,"/"),Xe=("getcollection/".concat(We,"/"),"updatecostumer/"),Qe="createcollection/".concat(We,"/"),$e="getcollectionbydate/".concat(We,"/"),qe="costumerdetail/";localStorage.getItem("date");function Ze(){var e=c.a.useState([]),t=Object(v.a)(e,2),n=t[0],a=t[1],r=c.a.useState(""),s=Object(v.a)(r,2),o=s[0],u=s[1],d=c.a.useState(""),j=Object(v.a)(d,2),m=(j[0],j[1],c.a.useState(!1)),h=Object(v.a)(m,2),b=h[0],p=h[1],f=c.a.useState([]),O=Object(v.a)(f,2),g=O[0],w=O[1],N=c.a.useRef([]),_=c.a.useState(!1),S=Object(v.a)(_,2),k=S[0],C=S[1],I=c.a.useState("Ammount Balance: $0.00"),D=Object(v.a)(I,2),A=D[0],E=D[1],L=function(e){return new Promise((function(t){return setTimeout(t,e)}))},B=function(){var e=Object(i.a)(l.a.mark((function e(t,n){var a,c,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=parseInt(t.loanammount/100),c=parseInt(t.ammount_Balance)-a,r={name:t.name,loanammount:t.loanammount,loan_date:t.loan_date,loanInterst:t.loanInterst,ms:t.ms,place:t.place,ammount_Balance:c,place_id:t.place_id},s={date:o,costumer_id:t.id,costumer_name:t.name,ammount:a},e.next=6,x.a.post(Qe,s).then((function(e){x.a.post("".concat(Xe).concat(t.id,"/"),r).then((function(e){console.log("updated")}),(function(e){console.log("error put",n)}))}),(function(e){console.log(e,"error")}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),P=function(){var e=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat($e).concat(o,"/")).then((function(e){w(e.data)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get(Je).then((function(e){a(e.data)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.sort((function(e,t){return e.place_id<t.place_id?-1:e.place_id>t.place_id?1:0})).map((function(e){B(e,e.id)}));case 2:L(2e3);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,R();case 3:P(),p(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,x.a.get("".concat(qe).concat(t,"/")).then((function(e){return E("The Balance of ".concat(e.data.name," is INR: ").concat(e.data.ammount_Balance))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();c.a.useEffect((function(){T()}),[o]);var U=function(){var e=Object(i.a)(l.a.mark((function e(t,n,a){var c,r,s,i,u,d,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat(qe).concat(n.costumer_id,"/"));case 2:if(c=e.sent,"Enter"!==t.key){e.next=30;break}return r=c.data.ammount_Balance,parseInt(t.target.value)>parseInt(n.ammount)?(s=parseInt(t.target.value)-parseInt(n.ammount),r=parseInt(r)-parseInt(s)):parseInt(t.target.value)<parseInt(n.ammount)?(i=parseInt(n.ammount)-parseInt(t.target.value),r=parseInt(r)+parseInt(i)):r=c.data.ammount_Balance,e.next=8,c.data;case 8:return c=e.sent,e.next=11,{name:c.name,loanammount:c.loanammount,loan_date:c.loan_date,loanInterst:c.loanInterst,ms:c.ms,place:c.place,ammount_Balance:void 0===typeof r?r:r.toString(),place_id:c.place_id};case 11:return u=e.sent,e.next=14,console.log(u);case 14:return e.next=16,{date:o,costumer_id:n.costumer_id,costumer_name:n.costumer_name,ammount:t.target.value.toString()};case 16:return d=e.sent,e.next=19,console.log(d);case 19:return e.next=21,x.a.post("".concat(Xe).concat(n.costumer_id,"/"),u).then((function(e){x.a.post("".concat("updatecollection/").concat(n.id),d).then((function(e){return console.log("Added")}))}));case 21:return e.next=23,a;case 23:return e.t0=e.sent,j=e.t0+1,e.next=27,N.current[j];case 27:if(e.t1=e.sent,!e.t1){e.next=30;break}N.current[j].focus();case 30:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();function H(){C(!1)}return Object(y.jsxs)("div",{children:[Object(y.jsxs)(Ge.a,{show:k,className:"d-flex flex-row gap-4 position-fixed end-0 top-0 bg-dark text-white",onClose:H,children:[Object(y.jsx)(Ge.a.Body,{children:A}),Object(y.jsx)("button",{className:"btn",onClick:H,children:"\u274c"})]}),Object(y.jsx)("input",{type:"date",style:{width:200,border:"1px solid gray",padding:10,margin:20},placeholder:"Select Date",onChange:function(e){return u(e.target.value)}}),Object(y.jsx)("button",{className:"btn btn-primary",style:{margin:10},onClick:M,children:"Create Collection"}),Object(y.jsx)("button",{className:"btn btn-danger",style:{margin:10},onClick:P,children:"Load Collection"}),Object(y.jsx)("div",{children:!1===b?Object(y.jsxs)("table",{className:"table",children:[Object(y.jsx)("thead",{className:"thead-light",children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Name"}),Object(y.jsx)("th",{children:"Ammount"}),Object(y.jsx)("th",{children:"Balance"})]})}),Object(y.jsx)("tbody",{children:g.map((function(e,t){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:e.costumer_name}),Object(y.jsx)("td",{children:Object(y.jsx)(F.a,{label:"Ammount",inputProps:{onKeyPress:function(n){return U(n,e,t)}},placeholder:e.ammount,inputRef:function(e){return N.current[t]=e},onFocus:function(e){return e.target.select()},color:"secondary",defaultValue:e.ammount})}),Object(y.jsx)("td",{children:Object(y.jsx)("p",{className:"btn btn-primary",onClick:function(){return z(e.costumer_id)},children:"Get Balance"})})]})}))})]}):0===g.length?Object(y.jsx)("p",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",padding:"100px"},children:"No Records Found Create Collection"}):Object(y.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",padding:"100px"},children:Object(y.jsx)("div",{className:"spinner-border text-primary",role:"status",children:Object(y.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})})]})}var et="places/";function tt(){var e=Object(a.useState)([]),t=Object(v.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!0),s=Object(v.a)(r,2),o=s[0],u=s[1],d=Object(a.useState)(""),j=Object(v.a)(d,2),m=j[0],h=j[1],b=Object(a.useState)(""),p=Object(v.a)(b,2),f=p[0],O=p[1],g=function(){var e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get(et);case 2:return t=e.sent,e.next=5,c(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){g()}),[]);var w=function(){var e=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==o){e.next=6;break}return c(n.sort((function(e,t){return e.place_id-t.place_id})).reverse()),e.next=4,u(!o);case 4:e.next=9;break;case 6:return c(n.sort((function(e,t){return e.place_id-t.place_id}))),e.next=9,u(!o);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==o){e.next=6;break}return c(n.sort((function(e,t){return e.place-t.place})).reverse()),e.next=4,u(!o);case 4:e.next=9;break;case 6:return c(n.sort((function(e,t){return e.place-t.place}))),e.next=9,u(!o);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.delete(et+t);case 2:return e.next=4,g();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={place_id:f,place:m},e.next=3,x.a.post(et,t);case 3:return e.next=5,g();case 5:return e.next=7,h("");case 7:return e.next=9,O("");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"d-flex flex-end gap-3 p-3",children:[Object(y.jsx)("p",{className:"badge bg-dark",children:"Add Place"}),Object(y.jsx)("input",{type:"number",className:"form-control w-25",placeholder:"Place id",onChange:function(e){return O(e.target.value)},value:f}),Object(y.jsx)("input",{type:"text",className:"form-control w-25",placeholder:"place name",onChange:function(e){return h(e.target.value)},value:m}),Object(y.jsx)("button",{className:"btn btn-success",onClick:S,children:"+"})]}),Object(y.jsx)("div",{style:{height:400,overflow:"auto"},children:Object(y.jsxs)("table",{className:"table",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{className:"",children:[Object(y.jsxs)("th",{onClick:N,children:["Place ",Object(y.jsx)("i",{className:"bi bi-sort-alpha-down"})]}),Object(y.jsxs)("th",{onClick:w,children:["Place Id ",Object(y.jsx)("i",{className:"bi bi-sort-alpha-down"})]})]})}),Object(y.jsx)("tbody",{children:n.map((function(e){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:e.place}),Object(y.jsx)("td",{children:e.place_id}),Object(y.jsx)("td",{children:Object(y.jsx)("button",{className:"btn btn-danger",onClick:function(){return _(e.id)},children:"Delete"})})]})}))})]})})]})}var nt=n.p+"static/media/nodata.2743d9bd.webp",at=sessionStorage.getItem("access_token"),ct="getcostumer/".concat(at);function rt(){var e=Object(a.useState)([]),t=Object(v.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),s=Object(v.a)(r,2),o=s[0],u=s[1],d=Object(a.useState)([]),j=Object(v.a)(d,2),m=j[0],h=j[1],b=Object(a.useState)([]),p=Object(v.a)(b,2),O=p[0],g=p[1],w=Object(a.useState)([]),N=Object(v.a)(w,2),_=N[0],S=N[1],k=Object(a.useState)([]),C=Object(v.a)(k,2),I=C[0],D=C[1],A=Object(a.useState)(""),E=Object(v.a)(A,2),L=E[0],B=E[1],P=Object(a.useState)([]),T=Object(v.a)(P,2),R=T[0],F=T[1],M=function(){var e=Object(i.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("getcloseup");case 2:return t=e.sent,e.next=5,t.data.filter((function(e){return e.date.includes(localStorage.getItem("date"))}));case 5:return n=e.sent,e.next=8,c(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(i.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("getclosedown");case 2:return t=e.sent,e.next=5,t.data.filter((function(e){return e.date.includes(localStorage.getItem("date"))}));case 5:return n=e.sent,e.next=8,u(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(i.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("getoai");case 2:return t=e.sent,e.next=5,t.data.filter((function(e){return e.date.includes(localStorage.getItem("date"))}));case 5:return n=e.sent,e.next=8,h(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(i.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("getoao");case 2:return t=e.sent,e.next=5,t.data.filter((function(e){return e.date.includes(localStorage.getItem("date"))}));case 5:return n=e.sent,e.next=8,g(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(i.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("getinversment");case 2:return t=e.sent,e.next=5,t.data.filter((function(e){return e.date.includes(localStorage.getItem("date"))}));case 5:return n=e.sent,e.next=8,D(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(i.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("getothers");case 2:return t=e.sent,e.next=5,t.data.filter((function(e){return e.date.includes(localStorage.getItem("date"))}));case 5:return n=e.sent,e.next=8,S(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(i.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get(ct);case 2:return t=e.sent,e.next=5,t.data.filter((function(e){return"0"===e.ammount_Balance}));case 5:return n=e.sent,e.next=8,F(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)(Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",e.next=3,R.map((function(e){t=t+"\nname : "+e.name+" , place :"+e.place+" , "+e.id+" , "}));case 3:return e.next=5,sessionStorage.setItem("cc",t);case 5:case"end":return e.stop()}}),e)}))),[R]),Object(a.useEffect)((function(){G()}),[L]);var G=function(){var e=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:return e.next=4,z();case 4:return e.next=6,U();case 6:return e.next=8,H();case 8:return e.next=10,V();case 10:return e.next=12,Y();case 12:return e.next=14,K();case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"d-flex flex-row gap-2",children:[Object(y.jsx)(Ue.a,{variant:"contained",size:"large",onClick:function(){return B("cd")},children:"\u0b85\u0b9f\u0bcd\u0b9f\u0bc8 \u0b85\u0ba4\u0bbf\u0b95\u0bae\u0bcd/\u0b95\u0bc1\u0bb1\u0bc8\u0bb5\u0bc1"}),Object(y.jsx)(Ue.a,{variant:"contained",size:"large",onClick:function(){return B("id")},children:"\u0bae\u0bc1\u0ba4\u0bb2\u0bc0\u0b9f\u0bc1 \u0bb5\u0bb0\u0bb5\u0bc1"}),Object(y.jsx)(Ue.a,{variant:"contained",size:"large",onClick:function(){return B("ai")},children:"\u0baa\u0bb1\u0bcd\u0bb1\u0bc1 \u0bb5\u0bb0\u0bb5\u0bc1"}),Object(y.jsx)(Ue.a,{variant:"contained",size:"large",onClick:function(){return B("ao")},children:"\u0baa\u0bb1\u0bcd\u0bb1\u0bc1 \u0b9a\u0bc6\u0bb2\u0bb5\u0bc1"}),Object(y.jsx)(Ue.a,{variant:"contained",size:"large",onClick:function(){return B("oe")},children:"\u0b87\u0ba4\u0bb0 \u0b9a\u0bc6\u0bb2\u0bb5\u0bc1\u0b95\u0bb3\u0bcd"}),Object(y.jsx)(Ue.a,{variant:"contained",size:"large",color:"error",onClick:function(){return B("cl")},children:"\u0bae\u0bc1\u0b9f\u0bbf\u0ba8\u0bcd\u0ba4 \u0bb2\u0bcb\u0ba9\u0bcd"})]}),Object(y.jsx)("div",{className:"mt-4",children:"cd"===L?Object(y.jsxs)("div",{className:"d-flex flex-row gap-3 justify-content-evenly p-3",children:[n.length>0?Object(y.jsxs)("div",{children:[Object(y.jsx)("p",{className:"h5 p-3 text-primary",children:"\u0b85\u0b9f\u0bcd\u0b9f\u0bc8 \u0b85\u0ba4\u0bbf\u0b95\u0bae\u0bcd"}),Object(y.jsxs)("table",{className:"table table-stripped table-bordered",children:[Object(y.jsx)("thead",{className:"th-dark",children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Name"}),Object(y.jsx)("th",{children:"Ammount"}),Object(y.jsx)("th",{children:"Del"})]})}),Object(y.jsx)("tbody",{children:n.map((function(e){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:e.costumername}),Object(y.jsx)("td",{children:e.ammount}),Object(y.jsx)("td",{children:Object(y.jsx)("button",{className:"btn btn-danger",onClick:function(){return t=e.id,x.a.delete("".concat("deletecloseup","/").concat(t)).then((function(){return f.c.error("Deleted Successfully")})),void G();var t},children:"Del"})})]},e.id)}))})]})]}):Object(y.jsx)("div",{style:{backgroundImage:"url(".concat(nt,")"),width:400,height:400,display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"},children:Object(y.jsx)("p",{className:"h2 text-dark bg-light p-3 rounded ",children:"No Data Found"})}),o.length>0?Object(y.jsxs)("div",{children:[Object(y.jsx)("p",{className:"h5 p-3 text-primary",children:"\u0b85\u0b9f\u0bcd\u0b9f\u0bc8 \u0b95\u0bc1\u0bb1\u0bc8\u0bb5\u0bc1"}),Object(y.jsxs)("table",{className:"table table-stripped table-bordered",children:[Object(y.jsx)("thead",{className:"th-dark",children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Name"}),Object(y.jsx)("th",{children:"Ammount"}),Object(y.jsx)("th",{children:"Delete"})]})}),Object(y.jsx)("tbody",{children:o.map((function(e){return Object(y.jsxs)("tr",{className:"text-align-center",children:[Object(y.jsx)("td",{children:e.costumername}),Object(y.jsx)("td",{children:e.ammount}),Object(y.jsx)("td",{children:Object(y.jsx)("button",{className:"btn btn-danger",onClick:function(){return t=e.id,x.a.delete("".concat("deleteclosedown","/").concat(t)).then((function(){return f.c.error("Deleted Successfully")})),void G();var t},children:"Delete"})})]},e.id)}))})]})]}):Object(y.jsx)("div",{style:{backgroundImage:"url(".concat(nt,")"),width:400,height:400,display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"},children:Object(y.jsx)("p",{className:"h2 text-dark bg-light p-3 rounded ",children:"No Data Found"})})]}):"ai"===L?Object(y.jsxs)("div",{children:[Object(y.jsx)("p",{className:"h5 p-3 text-primary",children:"\u0baa\u0bb1\u0bcd\u0bb1\u0bc1 \u0bb5\u0bb0\u0bb5\u0bc1"}),Object(y.jsxs)("table",{className:"table table-stripped table-bordered",children:[Object(y.jsx)("thead",{className:"th-dark",children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Name"}),Object(y.jsx)("th",{children:"Ammount"}),Object(y.jsx)("th",{children:"Delete"})]})}),Object(y.jsx)("tbody",{children:m.map((function(e){return Object(y.jsxs)("tr",{className:"text-align-center",children:[Object(y.jsx)("td",{children:e.reason}),Object(y.jsx)("td",{children:e.ammount}),Object(y.jsx)("td",{children:Object(y.jsx)("button",{className:"btn btn-danger",onClick:function(){return t=e.id,x.a.delete("".concat("deleteoai","/").concat(t)).then((function(){return f.c.error("Deleted Successfully")})),void G();var t},children:"Del"})})]},e.id)}))})]})]}):"ao"===L?Object(y.jsxs)("div",{children:[Object(y.jsx)("p",{className:"h5 p-3 text-primary",children:"\u0baa\u0bb1\u0bcd\u0bb1\u0bc1 \u0b9a\u0bc6\u0bb2\u0bb5\u0bc1"}),Object(y.jsxs)("table",{className:"table table-stripped table-bordered",children:[Object(y.jsx)("thead",{className:"th-dark",children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Name"}),Object(y.jsx)("th",{children:"Ammount"}),Object(y.jsx)("th",{children:"Delete"})]})}),Object(y.jsx)("tbody",{children:O.map((function(e){return Object(y.jsxs)("tr",{className:"text-align-center",children:[Object(y.jsx)("td",{children:e.reason}),Object(y.jsx)("td",{children:e.ammount}),Object(y.jsx)("td",{children:Object(y.jsx)("button",{className:"btn btn-danger",onClick:function(){return t=e.id,x.a.delete("".concat("deleteoao","/").concat(t)).then((function(){return f.c.error("Deleted Successfully")})),void G();var t},children:"Del"})})]},e.id)}))})]})]}):"oe"===L?Object(y.jsxs)("div",{children:[Object(y.jsx)("p",{className:"h5 p-3 text-primary",children:"\u0b87\u0ba4\u0bb0 \u0b9a\u0bc6\u0bb2\u0bb5\u0bc1\u0b95\u0bb3\u0bcd"}),Object(y.jsxs)("table",{className:"table table-stripped table-bordered",children:[Object(y.jsx)("thead",{className:"th-dark",children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Name"}),Object(y.jsx)("th",{children:"Ammount"}),Object(y.jsx)("th",{children:"Delete"})]})}),Object(y.jsx)("tbody",{children:_.map((function(e){return Object(y.jsxs)("tr",{className:"text-align-center",children:[Object(y.jsx)("td",{children:e.reason}),Object(y.jsx)("td",{children:e.ammount}),Object(y.jsx)("td",{children:Object(y.jsx)("button",{className:"btn btn-danger",onClick:function(){return t=e.id,x.a.delete("".concat("deleteothers","/").concat(t)).then((function(){return f.c.error("Deleted Successfully")})),void G();var t},children:"Del"})})]},e.id)}))})]})]}):"id"===L?Object(y.jsxs)("div",{children:[Object(y.jsx)("p",{className:"h5 p-3 text-primary",children:"\u0bae\u0bc1\u0ba4\u0bb2\u0bc0\u0b9f\u0bc1"}),Object(y.jsxs)("table",{className:"table table-stripped table-bordered",children:[Object(y.jsx)("thead",{className:"th-dark",children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Name"}),Object(y.jsx)("th",{children:"Ammount"}),Object(y.jsx)("th",{children:"Delete"})]})}),Object(y.jsx)("tbody",{children:I.map((function(e){return Object(y.jsxs)("tr",{className:"text-align-center",children:[Object(y.jsx)("td",{children:e.name}),Object(y.jsx)("td",{children:e.ammount}),Object(y.jsx)("td",{children:Object(y.jsx)("button",{className:"btn btn-danger",onClick:function(){return t=e.id,x.a.delete("".concat("deleteinversment","/").concat(t)).then((function(){return f.c.error("Deleted Successfully")})),void G();var t},children:"Del"})})]},e.id)}))})]})]}):"cl"===L?Object(y.jsxs)("div",{children:[Object(y.jsx)("p",{className:"h5 p-3 text-primary",children:"\u0bae\u0bc1\u0b9f\u0bbf\u0ba8\u0bcd\u0ba4 \u0bb2\u0bcb\u0ba9\u0bcd"}),Object(y.jsxs)("table",{className:"table table-stripped table-bordered",children:[Object(y.jsx)("thead",{className:"th-dark",children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Name"}),Object(y.jsx)("th",{children:"Place"})]})}),Object(y.jsx)("tbody",{children:R.map((function(e){return Object(y.jsxs)("tr",{className:"text-align-center",children:[Object(y.jsx)("td",{children:e.name}),Object(y.jsx)("td",{children:e.place})]},e.id)}))})]})]}):B("cd")})]})}var st=sessionStorage.getItem("access_token"),ot="/getcostumer/".concat(st,"/"),lt=function(){var e=Object(i.a)(l.a.mark((function e(t,n){var a,c,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat("/getdl/").concat(t,"/").concat(n,"/"));case 2:return a=e.sent,e.next=5,a.data;case 5:for(c=e.sent,r=0,s=0;s<c.length;s++)r+=c[s].ammount;return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),it=function(){var e=Object(i.a)(l.a.mark((function e(t,n){var a,c,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat("/getexpence/").concat(t,"/").concat(n,"/"));case 2:return a=e.sent,e.next=5,a.data;case 5:for(c=e.sent,r=0,s=0;s<c.length;s++)r+=parseInt(c[s].expenceAmmount);return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ut=function(){var e=Object(i.a)(l.a.mark((function e(t,n){var a,c,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat("/getcloseuprange/").concat(t,"/").concat(n,"/"));case 2:return a=e.sent,e.next=5,a.data;case 5:for(c=e.sent,r=0,s=0;s<c.length;s++)r+=c[s].ammount;return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),dt=function(){var e=Object(i.a)(l.a.mark((function e(t,n){var a,c,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat("/getclosedownrange/").concat(t,"/").concat(n,"/"));case 2:return a=e.sent,e.next=5,a.data;case 5:for(c=e.sent,r=0,s=0;s<c.length;s++)r+=c[s].ammount;return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),jt=function(){var e=Object(i.a)(l.a.mark((function e(t,n){var a,c,r,s,o,i,u,d,j,m,h,b;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat("/getoai/").concat(t,"/").concat(n,"/"));case 2:return a=e.sent,e.next=5,a.data;case 5:return c=e.sent,r=[],e.next=9,c.filter((function(e){return e.reason.includes("\u0bb5\u0b9f\u0bcd\u0b9f\u0bbf \u0bb5\u0bb0\u0bb5\u0bc1")}));case 9:for(r=e.sent,s=0,o=0;o<r.length;o++)s+=r[o].ammount;return i=[],u=0,e.next=16,c.filter((function(e){return e.reason.includes("\u0bb2\u0bc8\u0ba9\u0bcd \u0b85\u0ba4\u0bbf\u0b95\u0bae\u0bcd")}));case 16:for(i=e.sent,0,d=0;d<i.length;d++)u+=i[d].ammount;for(j=0;j<c.length;j++)c[j].ammount;return m=[],e.next=23,c.filter((function(e){return!e.reason.includes("\u0bb2\u0bc8\u0ba9\u0bcd \u0b85\u0ba4\u0bbf\u0b95\u0bae\u0bcd")}));case 23:return m=e.sent,e.next=26,m.filter((function(e){return!r.find((function(t){return t.id===e.id}))}));case 26:for(m=e.sent,h=0,b=0;b<m.length;b++)h+=m[b].ammount;return e.abrupt("return",[s,u,m,h]);case 30:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),mt=function(){var e=Object(i.a)(l.a.mark((function e(t,n){var a,c,r,s,o,i,u,d,j,m,h,b;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat("/getoao/").concat(t,"/").concat(n,"/"));case 2:return a=e.sent,e.next=5,a.data;case 5:return c=e.sent,0,r=0,s=0,o=[],i=[],u=[],e.next=14,c.filter((function(e){return e.reason.includes("\u0bb5\u0ba3\u0bcd\u0b9f\u0bbf")}));case 14:for(o=e.sent,d=0;d<o.length;d++)r+=o[d].ammount;return e.next=18,c.filter((function(e){return e.reason.includes("\u0bb2\u0bc8\u0ba9\u0bcd \u0b95\u0bc1\u0bb1\u0bc8\u0bb5\u0bc1")}));case 18:for(i=e.sent,j=0;j<i.length;j++)s+=i[j].ammount;return e.next=22,c.filter((function(e){return"\u0bb2\u0bc8\u0ba9\u0bcd \u0b95\u0bc1\u0bb1\u0bc8\u0bb5\u0bc1"!=e.reason&&"\u0bb5\u0ba3\u0bcd\u0b9f\u0bbf"!=e.reason}));case 22:for(u=e.sent,m=0,[],h=u.filter((function(e){return!o.find((function(t){return t.id===e.id}))})),b=0;b<h.length;b++)m+=h[b].ammount;return e.abrupt("return",[r,s,h,m]);case 28:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ht=function(){var e=Object(i.a)(l.a.mark((function e(t,n){var a,c,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat("/getinversment/").concat(t,"/").concat(n,"/"));case 2:return a=e.sent,e.next=5,a.data;case 5:for(c=e.sent,r=0,s=0;s<c.length;s++)r+=c[s].ammount;return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),bt=function(){var e=Object(i.a)(l.a.mark((function e(t,n){var a,c,r,s,o,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat(ot).concat(t,"/").concat(n,"/"));case 2:return a=e.sent,e.next=5,a.data;case 5:for(c=e.sent,r=0,s=0,o=0,i=0;i<c.length;i++)r+=c[i].loanammount,s+=c[i].loanInterst,o+=c[i].ms;return e.abrupt("return",[r,s,o]);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),pt=function(){var e=Object(i.a)(l.a.mark((function e(t,n){var a,c,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat("/getothers/").concat(t,"/").concat(n));case 2:return a=e.sent,e.next=5,a.data;case 5:for(c=e.sent,r=0,s=0;s<c.length;s++)r+=c[s].ammount;return e.abrupt("return",[r,c]);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),xt=function(){var e=Object(i.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat("/getaihrange/").concat(t,"/"));case 2:return n=e.sent,e.next=5,n.data;case 5:return a=e.sent,e.abrupt("return",a.ammount);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ft=function(){var e=Object(a.useState)(""),t=Object(v.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(v.a)(r,2),o=s[0],u=s[1],d=Object(a.useState)(""),j=Object(v.a)(d,2),m=j[0],h=j[1],b=Object(a.useState)(0),p=Object(v.a)(b,2),x=p[0],f=p[1],O=Object(a.useState)(0),g=Object(v.a)(O,2),w=g[0],N=g[1],_=Object(a.useState)(0),S=Object(v.a)(_,2),k=S[0],C=S[1],I=Object(a.useState)(0),D=Object(v.a)(I,2),A=D[0],E=D[1],L=Object(a.useState)({bike:0,css:0,others:[],otherssum:0}),B=Object(v.a)(L,2),P=B[0],T=B[1],R=Object(a.useState)({intrest:0,excess:0,others:[],otherssum:0}),F=Object(v.a)(R,2),M=F[0],z=F[1],U=Object(a.useState)({intrest:0,ammount:0,ms:0}),H=Object(v.a)(U,2),V=H[0],Y=H[1],K=Object(a.useState)(0),G=Object(v.a)(K,2),W=G[0],J=G[1],X=Object(a.useState)(0),Q=Object(v.a)(X,2),$=Q[0],q=Q[1],Z=Object(a.useState)({sum:0,arrayData:[]}),ee=Object(v.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(0),ce=Object(v.a)(ae,2),re=ce[0],se=ce[1],oe=Object(a.useState)(0),le=Object(v.a)(oe,2),ie=le[0],ue=le[1],de=Object(a.useState)(""),je=Object(v.a)(de,2),me=je[0],he=je[1],be=Object(a.useState)(0),pe=Object(v.a)(be,2),xe=pe[0],fe=pe[1],Oe=Object(a.useState)(0),ge=Object(v.a)(Oe,2),ve=ge[0],ye=ge[1],we=Object(a.useState)(0),Ne=Object(v.a)(we,2),_e=Ne[0],Se=Ne[1],ke=function(){var e=Object(i.a)(l.a.mark((function e(){var t,a,c,r,s,o,i,d,j,h,b,p,x,O,g,y,w,_,S,k,I,D,L,B,P,R,F,M,U,H,V,K,G,W,X;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(!0);case 2:return e.next=4,ut(n,m);case 4:return t=e.sent,e.next=7,f(t);case 7:return e.next=9,dt(n,m);case 9:return a=e.sent,e.next=12,jt(n,m);case 12:return c=e.sent,r=Object(v.a)(c,4),s=r[0],o=r[1],i=r[2],d=r[3],e.next=20,N(a);case 20:return e.next=22,mt(n,m);case 22:return j=e.sent,h=Object(v.a)(j,4),b=h[0],p=h[1],x=h[2],O=h[3],e.next=30,bt(n,m);case 30:return g=e.sent,y=Object(v.a)(g,3),w=y[0],_=y[1],S=y[2],e.next=37,ht(n,m);case 37:return k=e.sent,e.next=40,lt(n,m);case 40:return I=e.sent,e.next=43,E(I);case 43:return e.next=45,C(k);case 45:return e.next=47,it(n,m);case 47:return D=e.sent,e.next=50,z({intrest:s,excess:o,others:i,otherssum:d});case 50:return e.next=52,T({bike:b,css:p,others:x,otherssum:O});case 52:return e.next=54,Y({intrest:_,ammount:w,ms:S});case 54:return e.next=56,pt(n,m);case 56:return L=e.sent,B=Object(v.a)(L,2),P=B[0],R=B[1],e.next=62,ne({sum:P,arrayData:R});case 62:return e.next=64,J(D);case 64:return F=new Date(n),M=new Date(m),U=M.getTime()-F.getTime(),H=U/864e5,e.next=70,Math.round(A/H);case 70:return V=e.sent,e.next=73,q(V);case 73:return K=(l=new Date(n),new Date(l.getTime()-864e5)).toISOString().slice(0,10),e.next=76,xt(K);case 76:return G=e.sent,W=Ce(new Date(m)).toISOString().slice(0,10),e.next=80,xt(m);case 80:return X=e.sent,e.next=83,he(W);case 83:return e.next=85,se(G);case 85:return e.next=87,ue(X);case 87:return e.next=89,Ie();case 89:return e.next=91,u(!1);case 91:case"end":return e.stop()}var l}),e)})));return function(){return e.apply(this,arguments)}}();function Ce(e){return new Date(e.getTime()+864e5)}var Ie=function(){var e=Object(i.a)(l.a.mark((function e(){var t,n,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.intrest+M.intrest+M.otherssum+k+x+A+parseInt(re)+V.ms+M.excess;case 2:return t=e.sent,e.next=5,V.ammount+P.otherssum+P.bike+P.css+w+W+te.sum;case 5:return n=e.sent,a=n-t,e.next=9,fe(t);case 9:return e.next=11,ye(n);case 11:return c=a<0?-1*a:a,e.next=14,Se(c);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:"d-flex gap-3 flex-column",children:[Object(y.jsxs)("div",{className:"d-flex gap-5 rounded align-items-center",children:[Object(y.jsxs)("div",{className:"d-flex gap-3 flex-column w-auto",children:[Object(y.jsx)("p",{className:"h5",children:"Start Date"}),Object(y.jsx)("input",{type:"date",onChange:function(e){return c(e.target.value)},className:"form-control"})]}),Object(y.jsxs)("div",{className:"d-flex gap-3 flex-column w-auto",children:[Object(y.jsx)("p",{className:"h5",children:"End Date"}),Object(y.jsx)("input",{type:"date",onChange:function(e){return h(e.target.value)},className:"form-control"})]}),!0===o?Object(y.jsxs)("button",{class:"btn btn-outline-primary",type:"button",children:[Object(y.jsx)("span",{class:"spinner-border spinner-border-sm"}),Object(y.jsx)("span",{class:"sr-only",children:" Search"})]}):Object(y.jsxs)("button",{className:"bi bi-binoculars-fill h5 btn btn-outline-primary",style:{height:40},onClick:ke,children:["  ","Search"]}),Object(y.jsx)("button",{className:" h5 btn btn-outline-primary",style:{height:40},onClick:Ie,children:"Balance Sheet"})]}),Object(y.jsxs)("div",{className:"d-flex gap-5 flex-row p-2",children:[Object(y.jsx)("div",{className:"d-flex flex-column gap-3 p-2",children:Object(y.jsxs)("table",{className:"table table-striped table-bordered",children:[Object(y.jsxs)("thead",{children:[Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Reason"}),Object(y.jsx)("th",{children:"Ammount"})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{}),Object(y.jsx)("th",{children:re})]})]}),Object(y.jsxs)("tbody",{className:"",children:[Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"h6 text-primary",children:"\u0b85\u0b9f\u0bcd\u0b9f\u0bc8 \u0b85\u0ba4\u0bbf\u0b95\u0bae\u0bcd"}),Object(y.jsx)("td",{className:"h6",children:x})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"h6 text-primary",children:"\u0bb5\u0b9f\u0bcd\u0b9f\u0bbf \u0bb5\u0bb0\u0bb5\u0bc1"}),Object(y.jsx)("td",{className:"h6",children:V.intrest})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"h6 text-primary",children:"Document Charges"}),Object(y.jsx)("td",{className:"h6",children:V.ms})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"h6 text-primary",children:"\u0bae\u0bb1\u0bcd\u0bb1 \u0bb5\u0b9f\u0bcd\u0b9f\u0bbf \u0bb5\u0bb0\u0bb5\u0bc1"}),Object(y.jsx)("td",{className:"h6",children:M.intrest})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"h6 text-primary",children:"\u0bb2\u0bc8\u0ba9\u0bcd \u0b85\u0ba4\u0bbf\u0b95\u0bae\u0bcd"}),Object(y.jsx)("td",{className:"h6",children:M.excess})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"h6 text-primary",children:"\u0bae\u0bc1\u0ba4\u0bb2\u0bc0\u0b9f\u0bc1"}),Object(y.jsx)("td",{className:"h6",children:k})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"h6 text-primary",children:"DL"}),Object(y.jsx)("td",{className:"h6",children:A})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"h6 text-primary",children:"Average DL"}),Object(y.jsx)("td",{className:"h6",children:$})]}),M.others.map((function(e){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"h6 text-primary",children:e.reason}),Object(y.jsx)("td",{className:"h6",children:e.ammount})]})})),Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Total"}),Object(y.jsx)("th",{children:xe})]})]})]})}),Object(y.jsx)("div",{className:"d-flex flex-column gap-3 p-2",children:Object(y.jsxs)("table",{className:"table table-striped table-bordered",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Reason"}),Object(y.jsx)("th",{children:"Ammount"})]})}),Object(y.jsxs)("tbody",{children:[Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"h6 text-danger",children:"\u0bb2\u0bc8\u0ba9\u0bcd \u0b9a\u0bc6\u0bb2\u0bb5\u0bc1"}),Object(y.jsx)("td",{className:"h6",children:W})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"h6 text-danger",children:"\u0b85\u0b9f\u0bcd\u0b9f\u0bc8 \u0b95\u0bc1\u0bb1\u0bc8\u0bb5\u0bc1"}),Object(y.jsx)("td",{className:"h6",children:w})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"h6 text-danger",children:"\u0bb2\u0bc8\u0ba9\u0bcd \u0b95\u0bc1\u0bb1\u0bc8\u0bb5\u0bc1"}),Object(y.jsx)("td",{className:"h6",children:P.css})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"h6 text-danger",children:"\u0bb2\u0bcb\u0ba9\u0bcd \u0ba4\u0bca\u0b95\u0bc8"}),Object(y.jsx)("td",{className:"h6",children:V.ammount})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"h6 text-danger",children:"\u0bb5\u0ba3\u0bcd\u0b9f\u0bbf \u0b9a\u0bc6\u0bb2\u0bb5\u0bc1"}),Object(y.jsx)("td",{className:"h6",children:P.bike})]}),P.others.map((function(e){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"h6 text-danger",children:e.reason}),Object(y.jsx)("td",{className:"h6",children:e.ammount})]})})),te.arrayData.map((function(e){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"h6 text-danger",children:e.reason}),Object(y.jsx)("td",{className:"h6",children:e.ammount})]})})),Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Total"}),Object(y.jsx)("th",{children:ve})]}),Object(y.jsxs)("tr",{children:[Object(y.jsxs)("th",{children:[xe," - ",ve]}),Object(y.jsx)("th",{children:_e})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:me}),Object(y.jsx)("th",{children:ie})]})]})]})})]})]})};function Ot(e){var t=e.costumer_name,n=e.costumer_id,r=e.place,s=e.loan_ammount,o=e.close,u=e.date,d=Object(a.useState)(0),j=Object(v.a)(d,2),m=j[0],h=j[1],b=function(){var e=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sessionStorage.setItem("getcollection",n);case 2:window.location.href="/cclist";case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(i.a)(l.a.mark((function e(){var t,n,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new Date(u),n=new Date(o),a=n.getTime()-t.getTime(),c=a/864e5,h(Math.round(c));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.useEffect((function(){p()}),[]),Object(y.jsxs)("div",{className:"d-flex flex-column gap-3 shadow-sm p-3",style:{width:300},children:[Object(y.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[Object(y.jsx)("p",{className:"h6 text-danger",children:t}),Object(y.jsx)("p",{className:"badge bg-primary p-2",children:n})]}),Object(y.jsx)("p",{className:"h6 text-success",children:s}),Object(y.jsxs)("p",{className:"h6 text-primary",children:[u," - ",o,m>100?Object(y.jsxs)("span",{className:"text-danger",children:[" [",m,"]"]}):Object(y.jsxs)("span",{className:"text-success",children:[" [",m,"]"]})]}),Object(y.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[Object(y.jsx)("p",{className:"h6 text-secondary",children:r}),Object(y.jsx)("button",{onClick:b,className:"btn btn-outline-warning","data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:"click to view collection history",children:"\ud83d\ude2e\u200d\ud83d\udca8"})]})]})}var gt=sessionStorage.getItem("access_token"),vt="closed/costumer/".concat(gt,"/");function yt(){var e=Object(a.useState)([]),t=Object(v.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){x.a.get(vt).then((function(e){c(e.data)}),(function(e){f.c.error("Error While Getting Closed Loans Data")}))}),[]),Object(y.jsx)("div",{className:"d-flex flex-row flex-wrap gap-3 p-2",children:n.map((function(e){return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Ot,{costumer_name:e.costumer_name,costumer_id:e.costumer_id,place:e.place,loan_ammount:e.loanammount,close:e.loanclose,date:e.loandate})})}))})}var wt=sessionStorage.getItem("access_token"),Nt="getcollection/".concat(wt,"/"),_t=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).findCostumerData=Object(i.a)(l.a.mark((function e(){var t,n,c,r,s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sessionStorage.getItem("getcollection");case 2:if(null===(t=e.sent)){e.next=23;break}return e.next=6,x.a.get("".concat("closed/costumerdetail/").concat(t,"/"));case 6:return n=e.sent,c=n.data[0],e.next=10,a.setState({costumerName:c.costumer_name,costumerLoan:c.loanammount,costumerBalance:0});case 10:return"",e.next=13,a.finddays(0,c.loanammount);case 13:return r=e.sent,e.next=16,a.calculatedays(c.loandate,c.loanclose);case 16:return s=e.sent,e.next=19,Math.round(r/s*100);case 19:(o=e.sent)>100?(o=o*s/100,a.setState({costumerstatus:"Perfect Loan Status"})):o=o,o<98&&o>90?a.setState({costumerstatus:"Highly Active"}):o<90&&o>70?a.setState({costumerstatus:"Active"}):o<70&&o>50?a.setState({costumerstatus:"Less Active"}):o<50&&o>30?a.setState({costumerstatus:"Pending"}):o<30&&a.setState({costumerstatus:"NIP"}),a.setState({Percent:o});case 23:case"end":return e.stop()}}),e)}))),a.finddays=function(e,t){var n,a=parseInt(t)/100;return n=100-parseInt(e)/a,Math.round(100*n)/100},a.calculatedays=function(e,t){var n=new Date(e),a=(new Date(t).getTime()-n.getTime())/864e5;return Math.round(a)},a.getCostumerdata=Object(i.a)(l.a.mark((function e(){var t,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sessionStorage.getItem("getcollection");case 2:if(null===(t=e.sent)){e.next=10;break}return n=[],e.next=7,x.a.get(Nt).then((function(e){return n=e.data}));case 7:c=[],n.map((function(e){e.costumer_id.toString()===t.toString()&&c.push(e)})),a.setState({collectionData:c});case 10:case"end":return e.stop()}}),e)}))),a.initialCall=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getCostumerdata();case 2:return e.next=4,a.findCostumerData();case 4:case"end":return e.stop()}}),e)}))),a.state={date1:"",collectionData:[],costumerName:"",costumerLoan:"",Percent:"",costumerstatus:"pending"},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.initialCall()}},{key:"render",value:function(){return Object(y.jsxs)("div",{className:"collectionDetails__",children:[Object(y.jsxs)("div",{className:"d-flex flex-row gap-3 p-3 border rounded",children:[Object(y.jsx)("button",{className:"btn btn-outline-primary",onClick:function(){window.location.href="/ccloans"},children:"back"}),Object(y.jsxs)("p",{children:[Object(y.jsx)("span",{children:"Costumer Name: "}),Object(y.jsx)("span",{className:"text-primary h6",style:{color:"#0D503C"},children:this.state.costumerName})]}),Object(y.jsxs)("p",{children:[Object(y.jsx)("span",{children:"Loan Ammount: "}),Object(y.jsx)("span",{className:"text-primary h6",style:{color:"#0D503C"},children:this.state.costumerLoan})]}),Object(y.jsxs)("p",{children:[Object(y.jsx)("span",{children:"Status: "})," ","Active"===this.state.costumerstatus?Object(y.jsx)("span",{className:"text-white h6 badge bg-success p-1",style:{color:"#0D503C"},children:this.state.costumerstatus}):"Less Active"===this.state.costumerstatus?Object(y.jsx)("span",{className:"text-white h6 badge bg-primary p-1",style:{color:"#0D503C"},children:this.state.costumerstatus}):"Pending"===this.state.costumerstatus?Object(y.jsx)("span",{className:"text-dark h6 badge bg-warning p-1",style:{color:"#0D503C"},children:this.state.costumerstatus}):"NIP"===this.state.costumerstatus?Object(y.jsx)("span",{className:"text-white h6 badge bg-danger p-1",style:{color:"#0D503C"},children:"No eligible for next loan"}):"Perfect Loan Status"===this.state.costumerstatus?Object(y.jsx)("span",{className:"text-dark h6 badge bg-info p-1",style:{color:"#0D503C"},children:this.state.costumerstatus}):"No Status"]}),Object(y.jsxs)("p",{children:[Object(y.jsx)("span",{children:"Collection Percent: "}),Object(y.jsx)("span",{className:"text-white h6 badge bg-warning p-1",children:this.state.Percent})]})]}),Object(y.jsx)("div",{className:"p-3",children:Object(y.jsx)("div",{className:"shadow-sm table-wrapper-scroll-y my-custom-scrollbar",children:Object(y.jsxs)("table",{className:"table table-bordered border-dark",children:[Object(y.jsx)("thead",{className:"thead-light",children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Date"}),Object(y.jsx)("th",{children:"Ammount Collected"})]})}),Object(y.jsxs)("tbody",{children:[""===this.state.searchTerm&&this.state.collectionData.map((function(e){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:e.date}),Object(y.jsx)("td",{children:e.ammount})]},e.id)})),""!==this.state.searchTerm&&this.state.collectionData.map((function(e){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:e.date}),Object(y.jsx)("td",{children:e.ammount})]},e.id)}))]})]})})})]})}}]),n}(a.Component),St=sessionStorage.getItem("access_token"),kt="places/",Ct="parties/".concat(St,"/");function It(){var e=Object(a.useState)(""),t=Object(v.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(v.a)(r,2),o=s[0],u=s[1],d=Object(a.useState)(""),j=Object(v.a)(d,2),m=j[0],h=j[1],b=Object(a.useState)(0),p=Object(v.a)(b,2),O=p[0],g=p[1],w=Object(a.useState)(0),N=Object(v.a)(w,2),_=N[0],S=N[1],k=Object(a.useState)([]),C=Object(v.a)(k,2),I=C[0],D=C[1],A=Object(a.useState)(!1),E=Object(v.a)(A,2),L=E[0],B=E[1],P=Object(a.useState)(!1),T=Object(v.a)(P,2),R=T[0],F=T[1],M=function(){var e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get(kt);case 2:t=e.sent,D(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){M()}),[]);var z=function(){var e=Object(i.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat(kt).concat(O));case 2:return n=e.sent,e.next=5,u(n.data.place);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){z()}),[O]);var U=function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post(Ct,t).then((function(e){f.c.success("Party Added Successfully"),F(!1)}),(function(e){f.c.error("Error adding Party Retry"),F(!0)}));case 2:B(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsx)("div",{className:"d-flex flex-column gap-3  w-100 align-center",children:Object(y.jsxs)("form",{className:"d-flex p-3 flex-column gap-3",style:{width:250},children:[Object(y.jsx)("p",{className:"h5 text-primary",children:"Add New Party Form"}),Object(y.jsx)("input",{type:"text",onChange:function(e){c(e.target.value)},placeholder:"Costumer Name",className:"form-control",name:"name"}),Object(y.jsx)("input",{type:"email",onChange:function(e){h(e.target.value)},placeholder:"Costumer Email",className:"form-control",name:"email"}),Object(y.jsx)("input",{type:"tel",onChange:function(e){S(e.target.value)},pattern:"[0-9]{3}-[0-9]{2}-[0-9]{3}",placeholder:"Phone Number",className:"form-control",name:"email"}),Object(y.jsxs)("select",{className:"form-select",onChange:function(e){return g(e.target.value)},children:[Object(y.jsx)("option",{className:"btn",value:"",children:"\u0b87\u0b9f\u0bae\u0bcd \u0ba4\u0bc7\u0bb0\u0bcd\u0ba8\u0bcd\u0ba4\u0bbf\u0b9f\u0bc1"}),I.map((function(e){return Object(y.jsx)("option",{className:"btn",value:e.place_id,children:e.place},e.id)}))]}),Object(y.jsxs)("p",{children:["Place: ",o]}),Object(y.jsx)("div",{className:"d-flex gap-3",children:Object(y.jsxs)("button",{className:"btn btn-primary gap-3",onClick:function(e){e.preventDefault(),B(!0),U({name:n,place:o,email_id:m,place_id:O,contact:_})},style:{width:150,justifyContent:"center",display:"flex",alignItems:"center"},children:["Save",!1===R?!1===L?Object(y.jsx)("span",{children:Object(y.jsx)("i",{className:"bi bi-check-all h5"})}):Object(y.jsx)("span",{class:"spinner-border spinner-border-sm"}):Object(y.jsx)("i",{class:"bi bi-arrow-clockwise"})]})})]})})}var Dt=sessionStorage.getItem("access_token"),At="getcostumer/".concat(Dt,"/");function Et(){var e=Object(a.useState)(""),t=Object(v.a)(e,2),n=(t[0],t[1],Object(a.useState)("")),c=Object(v.a)(n,2),r=(c[0],c[1],Object(a.useState)([])),s=Object(v.a)(r,2),o=s[0],u=s[1],d=Object(a.useState)(""),j=Object(v.a)(d,2),m=j[0],h=(j[1],function(){var e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get(At);case 2:return t=e.sent,e.next=5,u(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());Object(a.useEffect)((function(){h()}),[]);return Object(y.jsx)("div",{className:"w-100 overflow-scroll",children:Object(y.jsxs)("table",{className:"table table-bordered",style:{margin:10},children:[Object(y.jsx)("thead",{className:"thead-dark",children:Object(y.jsxs)("tr",{className:"p-1",children:[Object(y.jsx)("th",{children:"Name"}),Object(y.jsx)("th",{children:"Place"}),Object(y.jsx)("th",{children:"Date"}),Object(y.jsx)("th",{children:"Loan"}),Object(y.jsx)("th",{children:"1"}),Object(y.jsx)("th",{children:"2"}),Object(y.jsx)("th",{children:"3"}),Object(y.jsx)("th",{children:"4"}),Object(y.jsx)("th",{children:"5"}),Object(y.jsx)("th",{children:"6"}),Object(y.jsx)("th",{children:"7"}),Object(y.jsx)("th",{children:"8"}),Object(y.jsx)("th",{children:"9"}),Object(y.jsx)("th",{children:"10"}),Object(y.jsx)("th",{children:"11"}),Object(y.jsx)("th",{children:"12"}),Object(y.jsx)("th",{children:"13"}),Object(y.jsx)("th",{children:"14"}),Object(y.jsx)("th",{children:"15"}),Object(y.jsx)("th",{children:"16"}),Object(y.jsx)("th",{children:"17"}),Object(y.jsx)("th",{children:"18"}),Object(y.jsx)("th",{children:"19"}),Object(y.jsx)("th",{children:"20"}),Object(y.jsx)("th",{children:"21"}),Object(y.jsx)("th",{children:"22"}),Object(y.jsx)("th",{children:"23"}),Object(y.jsx)("th",{children:"24"}),Object(y.jsx)("th",{children:"25"}),Object(y.jsx)("th",{children:"26"}),Object(y.jsx)("th",{children:"27"}),Object(y.jsx)("th",{children:"28"}),Object(y.jsx)("th",{children:"29"}),Object(y.jsx)("th",{children:"30"}),Object(y.jsx)("th",{children:"31"})]})}),Object(y.jsx)("tbody",{children:o.map((function(e){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"p-1",style:{fontSize:15},children:e.name}),Object(y.jsx)("td",{className:"p-1",style:{fontSize:15},children:e.place}),Object(y.jsx)("td",{className:"p-1",style:{fontSize:15},children:e.loan_date}),Object(y.jsx)("td",{className:"p-1",style:{fontSize:15},children:e.loanammount}),Object(y.jsx)("td",{children:Object(y.jsx)("p",{children:m})})]},e.id)}))})]})})}var Lt=sessionStorage.getItem("login"),Bt=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).getAIHdata=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/getaihlatest",e.next=3,x.a.get("/getaihlatest");case 3:t=e.sent,a.setState({cashInhandDate:t.data.date===localStorage.getItem("date")});case 5:case"end":return e.stop()}}),e)}))),a.handleClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},a.logout=function(){sessionStorage.removeItem("access_token"),a.setState({anchorEl:null}),window.location.reload()},a.state={company:"",loggedIn:!1,isFullScreen:!0,simplemenu:null,anchorEl:null,open:!1,cashInhandDate:!1},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){console.clear();var e=localStorage.getItem("company"),t=sessionStorage.getItem("access_token");null===e||null===t||void 0===t?this.setState({company:"ABIPRAVI",loggedIn:!1}):this.setState({company:e,loggedIn:!0}),this.getAIHdata(),setInterval((function(){console.clear()}),3e4)}},{key:"render",value:function(){var e=[{path:"/viewcostumers",component:k},{path:"/addParty",component:It},{path:"/addCostumer",component:B},{path:"/updateCostumer",component:Z},{path:"/collectionDetails",component:ie},{path:"/addCollection",component:ge},{path:"/reports",component:Ie},{path:"/Settings",component:ye},{path:"/addExpence",component:De},{path:"/planclac",component:Me},{path:"/costumercollection",component:pe},{path:"/fastcollection",component:Ze},{path:"/updatebalance",component:he},{path:"/addPlace",component:tt},{path:"/editPlanCalc",component:rt},{path:"/mcc",component:Et},{path:"/monthlyCollection",component:ft},{path:"/ccloans",component:yt},{path:"/cclist",component:_t}];return Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)(f.b,{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,transition:f.a,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(y.jsxs)(h.a,{children:[Object(y.jsxs)("div",{className:"d-flex gap-3 p-2 align-middle bg-dark justify-content-evenly",children:[!1===this.state.cashInhandDate&&Object(y.jsx)("p",{className:"btn btn-dark h-auto",children:this.state.company}),this.state.loggedIn&&"admin"===Lt?Object(y.jsxs)("div",{className:"d-flex justify-content-evenly gap-3 p-2",children:[[{name:"\u0baa\u0bbe\u0bb0\u0bcd\u0b9f\u0bcd\u0b9f\u0bbf \u0b9a\u0bc7\u0bb0\u0bcd",path:"/addCostumer"},{name:"\u0bb5\u0bb0\u0bb5\u0bc1 \u0b95\u0ba3\u0b95\u0bcd\u0b95\u0bc1",path:"/collectionDetails"},{name:"\u0bb5\u0bb0\u0bb5\u0bc1",path:"/addCollection"},{name:"\u0ba4\u0bbf\u0b9f\u0bcd\u0b9f\u0bae\u0bcd",path:"/reports"},{name:"Upload Data",path:"/planclac"}].map((function(e){return Object(y.jsx)(h.c,{exact:!0,className:"btn btn-dark h-auto",activeClassName:"btn",to:e.path,"data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:e.name,children:e.name},e.name)})),Object(y.jsx)("h5",{class:"bi bi-three-dots-vertical text-white",onClick:this.handleClick}),Object(y.jsxs)(O.a,{id:"simple-menu",anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),"data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:"open menu",onClose:this.handleClose,children:[Object(y.jsx)(g.a,{onClick:this.handleClose1,children:Object(y.jsx)("a",{href:"/viewcostumers",style:{textDecoration:"none"},children:"\u0baa\u0bbe\u0bb0\u0bcd\u0b9f\u0bcd\u0b9f\u0bbf \u0bb5\u0bbf\u0bb5\u0bb0\u0b99\u0bcd\u0b95\u0bb3\u0bcd"})}),Object(y.jsx)(g.a,{children:Object(y.jsx)(h.c,{exact:!0,style:{textDecoration:"none"},to:"/editPlanCalc",children:"\u0ba4\u0bbf\u0b9f\u0bcd\u0b9f\u0bae\u0bcd \u0ba4\u0bbf\u0bb0\u0bc1\u0ba4\u0bcd\u0ba4\u0bc1"})}),Object(y.jsx)(g.a,{children:Object(y.jsx)(h.c,{exact:!0,style:{textDecoration:"none"},to:"/updateCostumer",children:"\u0baa\u0bbe\u0bb0\u0bcd\u0b9f\u0bcd\u0b9f\u0bbf \u0bb5\u0bbf\u0bb5\u0bb0\u0bae\u0bcd \u0ba4\u0bbf\u0bb0\u0bc1\u0ba4\u0bcd\u0ba4\u0bc1"})}),Object(y.jsx)(g.a,{children:Object(y.jsx)(h.c,{exact:!0,style:{textDecoration:"none"},to:"/monthlyCollection",children:"\u0bae\u0bbe\u0ba4 \u0ba4\u0bbf\u0b9f\u0bcd\u0b9f\u0bae\u0bcd"})}),Object(y.jsx)(g.a,{children:Object(y.jsx)(h.c,{exact:!0,style:{textDecoration:"none"},to:"/settings",children:"Settings"})}),Object(y.jsx)(g.a,{children:Object(y.jsx)(h.c,{exact:!0,style:{textDecoration:"none"},to:"/fastcollection",children:"Fast Collection"})}),Object(y.jsx)(g.a,{children:Object(y.jsx)(h.c,{exact:!0,style:{textDecoration:"none"},to:"/ccloans",children:"\u0bae\u0bc1\u0b9f\u0bbf\u0ba8\u0bcd\u0ba4 \u0bb2\u0bcb\u0ba9\u0bcd\u0b95\u0bb3\u0bcd"})}),Object(y.jsx)(g.a,{children:Object(y.jsx)("a",{style:{textDecoration:"none"},href:"/admin",children:"Admin"})}),Object(y.jsx)(g.a,{onClick:this.logout,children:"Logout"})]})]}):Object(y.jsx)("div",{children:!0===this.state.cashInhandDate?Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{className:"d-flex w-100 h-100 align-items-center"})}):Object(y.jsxs)("div",{className:"d-flex gap-3 align-center",children:[[{name:"\u0baa\u0bbe\u0bb0\u0bcd\u0b9f\u0bcd\u0b9f\u0bbf \u0b9a\u0bc7\u0bb0\u0bcd",path:"/addCostumer"},{name:"\u0bb5\u0bb0\u0bb5\u0bc1 \u0b95\u0ba3\u0b95\u0bcd\u0b95\u0bc1",path:"/collectionDetails"},{name:"\u0bb5\u0bb0\u0bb5\u0bc1",path:"/addCollection"},{name:"\u0ba4\u0bbf\u0b9f\u0bcd\u0b9f\u0bae\u0bcd",path:"/reports"},{name:"Upload Data",path:"/planclac"}].map((function(e){return Object(y.jsx)(h.c,{exact:!0,className:"btn btn-dark h-0",to:e.path,"data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:e.name,children:e.name},e.name)})),Object(y.jsx)("h5",{class:"bi bi-three-dots-vertical text-white p-2",style:{cursor:"pointer"},onClick:this.handleClick}),Object(y.jsxs)(O.a,{id:"simple-menu",anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),"data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:"open menu",onClose:this.handleClose,children:[Object(y.jsx)(g.a,{onClick:this.handleClose1,children:Object(y.jsx)("a",{href:"/viewcostumers",style:{textDecoration:"none"},children:"\u0baa\u0bbe\u0bb0\u0bcd\u0b9f\u0bcd\u0b9f\u0bbf \u0bb5\u0bbf\u0bb5\u0bb0\u0b99\u0bcd\u0b95\u0bb3\u0bcd"})}),Object(y.jsx)(g.a,{children:Object(y.jsx)(h.c,{exact:!0,style:{textDecoration:"none"},to:"/editPlanCalc",children:"\u0ba4\u0bbf\u0b9f\u0bcd\u0b9f\u0bae\u0bcd \u0ba4\u0bbf\u0bb0\u0bc1\u0ba4\u0bcd\u0ba4\u0bc1"})}),Object(y.jsx)(g.a,{children:Object(y.jsx)(h.c,{exact:!0,style:{textDecoration:"none"},to:"/updateCostumer",children:"\u0baa\u0bbe\u0bb0\u0bcd\u0b9f\u0bcd\u0b9f\u0bbf \u0bb5\u0bbf\u0bb5\u0bb0\u0bae\u0bcd \u0ba4\u0bbf\u0bb0\u0bc1\u0ba4\u0bcd\u0ba4\u0bc1"})}),Object(y.jsx)(g.a,{children:Object(y.jsx)(h.c,{exact:!0,style:{textDecoration:"none"},to:"/ccloans",children:"\u0bae\u0bc1\u0b9f\u0bbf\u0ba8\u0bcd\u0ba4 \u0bb2\u0bcb\u0ba9\u0bcd\u0b95\u0bb3\u0bcd"})}),Object(y.jsx)(g.a,{onClick:this.logout,children:"Logout"})]})]})})]}),Object(y.jsxs)("div",{className:"App__mainContent",children:[!0===this.state.cashInhandDate?!0===this.state.loggedIn?"admin"!==sessionStorage.getItem("login")?Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"d-flex w-100 h-100 align-items-center justify-content-center flex-column gap-3",children:[Object(y.jsx)("p",{className:"h5 text-primary",children:"Your Session has exipred please try again after 10 hours"}),Object(y.jsx)("button",{className:"btn btn-danger",style:{width:100},onClick:this.logout,children:"Logout"}),Object(y.jsx)("p",{style:{position:"absolute",bottom:"10px"},children:"\xa9\ufe0f abipravi finance 2022"})]})}):Object(y.jsx)(b.c,{children:!0===this.state.loggedIn&&e.map((function(e,t){return Object(y.jsx)(b.a,{exact:!0,path:e.path,component:e.component},t)}))}):null:Object(y.jsx)(b.c,{children:!0===this.state.loggedIn&&e.map((function(e,t){return Object(y.jsx)(b.a,{exact:!0,path:e.path,component:e.component},t)}))}),!1===this.state.loggedIn&&Object(y.jsx)(Ke,{})]})]})]})}}]),n}(a.Component);n(207);s.a.render(Object(y.jsx)(c.a.Fragment,{children:Object(y.jsx)(Bt,{})}),document.getElementById("root"))}},[[208,1,2]]]);